/*
 * App Global CSS
 * ----------------------------------------------------------------------------
 * Put style rules here that you want to apply globally. These styles are for
 * the entire app and not just one component. Additionally, this file can be
 * used as an entry point to import other CSS/Sass files to be included in the
 * output CSS.
 * For more information on global stylesheets, visit the documentation:
 * https://ionicframework.com/docs/layout/global-stylesheets
 */

/* Custom UI Design System - Importar estilos globales */
@use "app/styles/ui-design-system";

/* ============================================================
   ESTILOS COMPARTIDOS - Componentes reutilizables
   Responsive: Desktop (>1024px), Tablet (768-1024px), Mobile (<768px)
   ============================================================ */
@use "app/shared/styles/page-header"; // Headers de página
@use "app/shared/styles/empty-state"; // Estados vacíos
@use "app/shared/styles/page-container"; // Contenedores de página

/* Core CSS required for Ionic components to work properly */
@import "@ionic/angular/css/core.css";

/* Basic CSS for apps built with Ionic */
@import "@ionic/angular/css/normalize.css";
@import "@ionic/angular/css/structure.css";
@import "@ionic/angular/css/typography.css";
@import "@ionic/angular/css/display.css";

/* Optional CSS utils that can be commented out */
@import "@ionic/angular/css/padding.css";
@import "@ionic/angular/css/float-elements.css";
@import "@ionic/angular/css/text-alignment.css";
@import "@ionic/angular/css/text-transformation.css";
@import "@ionic/angular/css/flex-utils.css";

/* ============================================================
   SAFE AREAS - Soporte para notch/cutout en dispositivos móviles
   ============================================================ */

/* HTML debe usar viewport-fit=cover para que env() funcione */
html {
  --sat: env(safe-area-inset-top, 0px);
  --sar: env(safe-area-inset-right, 0px);
  --sab: env(safe-area-inset-bottom, 0px);
  --sal: env(safe-area-inset-left, 0px);
}

/* Aplicar safe areas a elementos clave */
ion-header ion-toolbar:first-of-type {
  padding-top: var(--sat);
}

ion-footer ion-toolbar:last-of-type {
  padding-bottom: var(--sab);
}

ion-tab-bar {
  padding-bottom: var(--sab);
}

/* Content padding para safe areas laterales en landscape */
ion-content {
  --padding-start: var(--sal);
  --padding-end: var(--sar);
}

/* ============================================================
   LAYOUT SIMPLE SIN ion-split-pane
   ============================================================ */

/* Componentes de página - display block estándar */
app-inicio,
app-cursos,
app-rubricas,
app-calificaciones,
app-sistema {
  display: block;
  width: 100%;
  height: 100%;
}

/* ============================================================
   FIX CRÍTICO: Asegurar que ion-tabs sea interactivo
   ============================================================ */
/* Bloque eliminado por refactorización de UI */

/* FIX: Asegurar que ion-router-outlet funcione correctamente - Eliminado por refactorización */



ion-router-outlet .ion-page.ion-page-hidden {
  display: none;
}

/* Estilos de interactividad - cursor pointer para elementos clickeables */
ion-button,
ion-item[button],
ion-fab-button {
  cursor: pointer;
}

ion-content {
  position: relative;
  z-index: 0;
}

:root {
  --poli-color-primary: #0f385a;
  --poli-color-accent: #1fb2de;
  --poli-color-success: #10b981;
  --poli-color-warning: #f59e0b;
  --poli-color-danger: #ef4444;
  --poli-color-neutral: rgba(15, 56, 90, 0.08);
  --poli-chip-radius: 18px;
}

/* ============================================================
   COMPONENT NORMALIZATION (Tabs, Buttons, Chips, Toast)
   Basado en https://ionicframework.com/docs/theming/css-variables
   ============================================================ */

ion-toolbar {
  --background: var(--bg-card, #ffffff);
  --color: var(--texto-principal, #1f1f1f);
  --border-style: solid;
  --border-color: rgba(15, 56, 90, 0.08);
  --border-width: 0 0 1px 0;
  font-weight: 600;
}

ion-button {
  --border-radius: var(--rad-sm, 8px);
  --padding-start: 16px;
  --padding-end: 16px;
  --box-shadow: none;
  font-weight: 600;
  letter-spacing: 0.3px;
  text-transform: none;

  &.button-clear {
    --padding-start: 10px;
    --padding-end: 10px;
  }

  &.button-outline {
    --border-width: 1.5px;
    --border-color: currentColor;
    --background: transparent;
    color: var(--azul-oscuro, #0f385a);
  }

  &:focus-visible {
    box-shadow: 0 0 0 3px rgba(31, 178, 222, 0.25);
  }
}

ion-chip {
  --background: rgba(15, 56, 90, 0.08);
  --color: var(--azul-oscuro, #0f385a);
  --border-radius: 16px;
  --padding-start: 12px;
  --padding-end: 12px;
  font-weight: 600;
  letter-spacing: 0.2px;
  text-transform: none;

  &.chip-outline {
    --background: transparent;
    border: 1px solid rgba(15, 56, 90, 0.2);
  }
}

ion-chip.estado-chip {
  --border-radius: var(--poli-chip-radius, 18px);
  --padding-start: 10px;
  --padding-end: 10px;
  --background: rgba(16, 185, 129, 0.16);
  --color: #047857;
  text-transform: none;

  &[color='success'] {
    --background: rgba(16, 185, 129, 0.16);
    --color: #047857;
  }

  &[color='warning'] {
    --background: rgba(245, 158, 11, 0.18);
    --color: #92400e;
  }

  &[color='medium'],
  &[color='light'] {
    --background: rgba(15, 56, 90, 0.12);
    --color: var(--azul-oscuro, #0f385a);
  }
}

ion-badge {
  border-radius: 999px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.4px;
  padding: 4px 10px;
  background: rgba(15, 56, 90, 0.08);
  color: var(--azul-oscuro, #0f385a);
}

ion-badge.estado-badge {
  --background: rgba(16, 185, 129, 0.16);
  color: #047857;

  &.estado-badge--warning {
    --background: rgba(245, 158, 11, 0.18);
    color: #92400e;
  }

  &.estado-badge--inactive {
    --background: rgba(15, 56, 90, 0.08);
    color: rgba(15, 56, 90, 0.8);
  }
}

ion-card {
  border-radius: var(--rad-sm, 8px);
  box-shadow: var(--shadow-light, 0 8px 24px rgba(16, 35, 47, 0.08));
  background: var(--bg-card, #ffffff);
}

ion-tab-bar {
  --background: var(--bg-card, #ffffff);
  --border-color: rgba(15, 56, 90, 0.08);
  --border-style: solid;
  --border-width: 1px 0 0 0;
}

ion-tab-button {
  --color: rgba(15, 56, 90, 0.6);
  --color-selected: var(--azul-oscuro, #0f385a);
  font-weight: 600;
  text-transform: none;
  letter-spacing: 0.2px;

  ion-icon {
    font-size: 1.3rem;
  }
}

ion-toast {
  --background: var(--bg-card, #ffffff);
  --color: var(--texto-principal, #1d1d1d);
  --border-radius: 14px;
  --box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
  --button-color: var(--azul-claro, #1fb2de);
  --start: 16px;
  --end: 16px;
  --max-width: 420px;
  font-weight: 500;
  line-height: 1.4;

  &::part(container) {
    border-left: 4px solid var(--azul-claro, #1fb2de);
  }

  &.toast-success::part(container) {
    border-left-color: var(--ion-color-success);
  }

  &.toast-danger::part(container) {
    border-left-color: var(--ion-color-danger);
  }
}

.ui-toast--success {
  --background: #f0fdf4;
  --color: #065f46;
  border-left: 4px solid var(--poli-color-success);
}

.ui-toast--error {
  --background: #fef2f2;
  --color: #991b1b;
  border-left: 4px solid var(--poli-color-danger);
}

.ui-toast--warning {
  --background: #fffbeb;
  --color: #92400e;
  border-left: 4px solid var(--poli-color-warning);
}

.ui-toast--info {
  --background: #eff6ff;
  --color: #1e3a8a;
  border-left: 4px solid var(--poli-color-accent);
}

@media (max-width: 480px) {
  ion-toast {
    --start: 8px;
    --end: 8px;
    --max-width: calc(100vw - 16px);
  }
}

/**
 * Ionic Dark Mode
 * -----------------------------------------------------
 * For more info, please see:
 * https://ionicframework.com/docs/theming/dark-mode
 */

/**
 * Gestor de Proyectos - Custom Styles
 * ----------------------------------------------------------------------------
 * Estilos globales para la aplicación según especificaciones del SRS
 */

/* Importar fuentes de Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&family=Montserrat:wght@700;900&display=swap');

/* ========================================
   VARIABLES RESPONSIVE GLOBALES
   Sistema unificado para todo el proyecto
   ======================================== */

:root {
  /* Sistema de fuentes responsive con clamp() - escala automática */
  --fs-xs: clamp(0.7rem, 1.8vw, 0.75rem);
  --fs-sm: clamp(0.8rem, 2.2vw, 0.85rem);
  --fs-md: clamp(0.85rem, 2.5vw, 0.9rem);
  --fs-lg: clamp(0.95rem, 3vw, 1rem);
  --fs-xl: clamp(1rem, 3.5vw, 1.1rem);
  --fs-xxl: clamp(1.1rem, 4vw, 1.2rem);

  /* Espaciado responsive - se adapta al viewport */
  --spacing-xs: clamp(2px, 0.5vw, 4px);
  --spacing-sm: clamp(4px, 1vw, 8px);
  --spacing-md: clamp(8px, 2vw, 12px);
  --spacing-lg: clamp(12px, 2.5vw, 16px);
  --spacing-xl: clamp(16px, 3vw, 20px);

  /* Tamaños de componentes responsive */
  --card-padding: clamp(8px, 2vw, 16px);
  --button-height: clamp(36px, 8vw, 44px);
  --badge-size: clamp(0.65rem, 2vw, 0.75rem);
  --chip-height: clamp(24px, 5vw, 28px);

  /* Radios */
  --rad-sm: 8px;
  --rad-xs: 4px;

  /* Sombras */
  --shadow-light: 0 2px 4px rgba(0, 0, 0, 0.1);
  --shadow-medium: 0 4px 8px rgba(0, 0, 0, 0.15);

  /* Variables dinámicas para íconos */
  --icon-size-fab: clamp(1.1rem, 3vw, 1.4rem);
  --icon-size-button: clamp(0.9rem, 2.5vw, 1.1rem);
  --fab-size: clamp(48px, 10vw, 56px);

  /* Tamaños de items en listas */
  --list-item-height: clamp(44px, 10vw, 60px);
  --list-item-compact: clamp(32px, 7vw, 40px);

  /* Input heights */
  --input-height: clamp(40px, 9vw, 48px);
  --input-height-sm: clamp(36px, 8vw, 42px);

  /* ============================================
     MOBILE-FIRST TYPOGRAPHY (Nuevas variables mejoradas)
     ============================================ */
  --font-size-xs: 0.875rem; // 14px - Mínimo legible (Apple/Google)
  --font-size-sm: 1rem; // 16px - Base mobile
  --font-size-md: 1.125rem; // 18px - Subtítulos
  --font-size-lg: 1.25rem; // 20px - Títulos medianos
  --font-size-xl: 1.5rem; // 24px - Títulos grandes
  --font-size-xxl: 2rem; // 32px - Títulos hero

  /* Touch Targets (iOS/Android standards) */
  --min-touch-target: 2.75rem; // 44px - iOS mínimo
  --touch-target-sm: 2.5rem; // 40px - Mínimo aceptable

  /* Line Heights */
  --line-height-tight: 1.25;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.75;
}

/* Desktop: Ajustar variables hacia abajo */
@media (min-width: 768px) {
  :root {
    --font-size-xs: 0.8125rem; // 13px
    --font-size-sm: 0.875rem; // 14px
    --font-size-md: 1rem; // 16px
    --font-size-lg: 1.125rem; // 18px
    --font-size-xl: 1.25rem; // 20px
  }
}

/* Reset global para eliminar espacios superiores */
html,
body {
  margin: 0 !important;
  padding: 0 !important;
  height: 100%;
  overflow-x: hidden;
}

ion-app {
  margin: 0 !important;
  padding: 0 !important;
}

/* Configuración global de tipografía */
* {
  font-family: var(--font-web, 'Open Sans', sans-serif);
}

h1:not(.page-title),
h2,
h3,
h4,
h5,
h6,
.header-text,
.title-text,
ion-title,
ion-segment-button,
ion-button {
  font-family: var(--font-principal, 'Montserrat', sans-serif) !important;
  font-weight: 700;
}

/* ============================================================================
 * FIX: Eliminar padding/margin problemático de ion-page
 * ============================================================================ */
ion-page {
  padding: 0 !important;
  margin: 0 !important;
}

/* Reset para elementos con _ngcontent que puedan tener padding/margin */
[class*="_ngcontent-"],
[class*="_nghost-"] {
  padding: 0;
  margin: 0;
}

/* Asegurar que ion-tabs no tenga espacios */
ion-tabs[class*="_ngcontent-"],
ion-tabs[class*="_nghost-"] {
  padding: 0 !important;
  margin: 0 !important;
}

/* Asegurar que ion-router-outlet no tenga espacios extra */
ion-router-outlet[class*="_ngcontent-"],
ion-router-outlet[class*="_nghost-"] {
  padding: 0 !important;
  margin: 0 !important;
}

/* ============================================================================
 * Ionic components - configuración limpia sin !important
 * ============================================================================ */

/* ion-split-pane maneja el layout automáticamente */

/* Estilos legacy de .estudiantes-table eliminados - tabla HTML ya no existe en el diseño actual */

/* Estilos para filtros y controles */
.filtros-container {
  display: flex;
  gap: var(--spacing-sm);
  align-items: center;
  flex-wrap: wrap;
  padding: var(--spacing-lg);
}

.filtro-button {
  --border-radius: 20px;
  --padding-start: var(--spacing-lg);
  --padding-end: var(--spacing-lg);
  height: var(--button-height);
  font-size: var(--fs-sm);
}

.filtro-button.active {
  --background: var(--ion-color-primary);
  --color: var(--ion-color-primary-contrast);
}

/* Estilos responsivos */
@media (max-width: 768px) {
  .filtros-container {
    flex-direction: column;
    align-items: stretch;
  }
}

/* Utilidades */
.text-center {
  text-align: center;
}

.text-bold {
  font-weight: bold;
}

.text-secondary {
  color: var(--texto-secundario);
}

.bg-light {
  background-color: var(--ion-color-light);
}

.border-bottom {
  border-bottom: 1px solid var(--border-color);
}

/* Animaciones suaves */
.fade-in {
  animation: fadeIn 0.3s ease-in;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

/* ============================================================================
 * MOBILE-FIRST COMPONENT OVERRIDES
 * Aplica variables de tipografía automáticamente a componentes Ionic
 * ============================================================================ */

/* Botones - Touch targets adecuados */
ion-button {
  font-size: var(--font-size-sm); // 1rem mobile
  --min-height: var(--min-touch-target); // 44px

  &[size="small"] {
    font-size: var(--font-size-xs); // 0.875rem
    --min-height: var(--touch-target-sm); // 40px
  }

  &[size="large"] {
    font-size: var(--font-size-md); // 1.125rem
  }
}

/* Badges y Chips - Legibles */
ion-badge,
ion-chip {
  font-size: var(--font-size-xs); // 0.875rem mobile (legible!)

  @media (min-width: 768px) {
    font-size: 0.8125rem; // 13px desktop
  }
}

/* Cards */
ion-card-title {
  font-size: var(--font-size-lg); // 1.25rem mobile

  @media (min-width: 768px) {
    font-size: var(--font-size-md); // 1rem desktop
  }
}

ion-card-subtitle,
ion-card-content {
  font-size: var(--font-size-sm); // 1rem mobile

  @media (min-width: 768px) {
    font-size: var(--font-size-xs); // 0.8125rem desktop
  }
}

/* Items y Labels */
ion-item {
  --min-height: var(--min-touch-target); // 44px
  font-size: var(--font-size-sm); // 1rem
}

ion-label {
  font-size: var(--font-size-sm); // 1rem

  h2,
  h3 {
    font-size: var(--font-size-md); // 1.125rem mobile
  }

  p {
    font-size: var(--font-size-xs); // 0.875rem
  }
}

/* Inputs - Evita zoom en iOS */
ion-input,
ion-textarea,
ion-select {
  font-size: var(--font-size-sm); // 1rem (evita zoom automático iOS)
  --min-height: var(--min-touch-target);
}

/* FAB Buttons */
ion-fab-button {
  --height: var(--min-touch-target); // 44px
  --width: var(--min-touch-target);

  ion-icon {
    font-size: 1.5rem; // 24px - bien visible
  }
}

/* Toolbar y Títulos */
ion-toolbar {
  --min-height: 3rem; // 48px para mobile

  ion-title {
    font-size: var(--font-size-md); // 1.125rem mobile
  }
}

/* Landscape: Mantener touch targets pero reducir fonts */
@media (max-height: 500px) and (orientation: landscape) {
  ion-button {
    font-size: var(--font-size-xs);
    // NO reducir --min-height, mantener 44px
  }

  ion-toolbar ion-title {
    font-size: var(--font-size-sm);
  }
}

/* ============================================================================
 * ESTILOS GLOBALES PARA ALERTAS DE CONFIRMACIÓN (PALETA SRS)
 * Última actualización: 2025-12-15
 * Ionic Alert usa encapsulación "scoped", requiere mayor especificidad
 * ============================================================================ */

/* Estilos base comunes para todas las alertas personalizadas */
.alert-confirm,
.alert-danger,
.alert-info,
.alert-success,
.alert-warning {
  --backdrop-opacity: 0.7;
  --background: #ffffff;
  --max-width: 420px;
}

/* Wrapper con bordes redondeados y sombra */
.alert-confirm .alert-wrapper,
.alert-danger .alert-wrapper,
.alert-info .alert-wrapper,
.alert-success .alert-wrapper,
.alert-warning .alert-wrapper {
  border-radius: 16px;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.25);
  overflow: hidden;
}

/* Header estilizado */
.alert-confirm .alert-head,
.alert-danger .alert-head,
.alert-info .alert-head,
.alert-success .alert-head,
.alert-warning .alert-head {
  padding: 20px 24px 16px;
}

/* Título blanco por defecto */
.alert-confirm .alert-title,
.alert-danger .alert-title,
.alert-info .alert-title,
.alert-success .alert-title,
.alert-warning .alert-title {
  color: #ffffff;
  font-size: 1.15rem;
  font-weight: 700;
  margin: 0;
}

/* Mensaje con mejor legibilidad */
.alert-confirm .alert-message,
.alert-danger .alert-message,
.alert-info .alert-message,
.alert-success .alert-message,
.alert-warning .alert-message {
  padding: 20px 24px;
  color: #333333;
  font-size: 0.95rem;
  line-height: 1.6;
  background: #ffffff;
}

/* Grupo de botones */
.alert-confirm .alert-button-group,
.alert-danger .alert-button-group,
.alert-info .alert-button-group,
.alert-success .alert-button-group,
.alert-warning .alert-button-group {
  padding: 16px 24px 20px;
  background: #f8f9fa;
  border-top: 1px solid #e9ecef;
}

/* Botones base */
.alert-confirm .alert-button,
.alert-danger .alert-button,
.alert-info .alert-button,
.alert-success .alert-button,
.alert-warning .alert-button {
  padding: 10px 20px;
  border-radius: 8px;
  font-weight: 600;
  font-size: 0.9rem;
  min-width: 100px;
  text-transform: none;
  margin: 0 6px;
}

/* Botón Cancelar - estilo gris */
.alert-confirm .alert-button-role-cancel,
.alert-danger .alert-button-role-cancel,
.alert-info .alert-button-role-cancel,
.alert-success .alert-button-role-cancel,
.alert-warning .alert-button-role-cancel {
  background: #f1f3f4;
  color: #5f6368;
  border: 1px solid #dadce0;
}

/* ===== COLORES ESPECÍFICOS POR TIPO DE ALERTA ===== */

/* ALERT-CONFIRM: Header azul oscuro, botón azul */
.alert-confirm .alert-head {
  background: linear-gradient(135deg, var(--azul-oscuro, #0f385a) 0%, #1a5a7a 100%);
}

.alert-confirm .alert-button:not(.alert-button-role-cancel) {
  background: linear-gradient(135deg, var(--azul-claro, #4a90e2) 0%, var(--azul-oscuro, #0f385a) 100%);
  color: #ffffff;
}

/* ALERT-DANGER: Header rosa/magenta, botón destructivo */
.alert-danger .alert-head {
  background: linear-gradient(135deg, #EC0677 0%, #d4055f 100%);
}

.alert-danger .alert-button:not(.alert-button-role-cancel) {
  background: linear-gradient(135deg, #EC0677 0%, #c90569 100%);
  color: #ffffff;
}

/* ALERT-INFO: Header azul claro */
.alert-info .alert-head {
  background: linear-gradient(135deg, #4a90e2 0%, #2171c7 100%);
}

.alert-info .alert-button:not(.alert-button-role-cancel) {
  background: linear-gradient(135deg, #4a90e2 0%, #2171c7 100%);
  color: #ffffff;
}

/* ALERT-SUCCESS: Header verde */
.alert-success .alert-head {
  background: linear-gradient(135deg, var(--verde, #a6ce38) 0%, #8eb82e 100%);
}

.alert-success .alert-title {
  color: #1a3d00;
}

.alert-success .alert-button:not(.alert-button-role-cancel) {
  background: linear-gradient(135deg, var(--verde, #a6ce38) 0%, #8eb82e 100%);
  color: #1a3d00;
}

/* ALERT-WARNING: Header amarillo */
.alert-warning .alert-head {
  background: linear-gradient(135deg, #ffc107 0%, #e6ac00 100%);
}

.alert-warning .alert-title {
  color: #333333;
}

.alert-warning .alert-button:not(.alert-button-role-cancel) {
  background: linear-gradient(135deg, #ffc107 0%, #e6ac00 100%);
  color: #333333;
}

/* ===== ESTILOS PARA INPUTS EN ALERTAS ===== */
.alert-confirm .alert-input-group,
.alert-danger .alert-input-group,
.alert-info .alert-input-group {
  padding: 0 24px 16px;
}

.alert-confirm .alert-input-wrapper,
.alert-danger .alert-input-wrapper,
.alert-info .alert-input-wrapper {
  border-radius: 8px;
  border: 2px solid #e0e0e0;
}

.alert-confirm .alert-input-wrapper:focus-within,
.alert-danger .alert-input-wrapper:focus-within,
.alert-info .alert-input-wrapper:focus-within {
  border-color: var(--azul-claro, #4a90e2);
}

/* ===== ESTILOS PARA RADIO/CHECKBOX EN ALERTAS ===== */
.alert-confirm .alert-radio-group,
.alert-confirm .alert-checkbox-group,
.alert-info .alert-radio-group,
.alert-info .alert-checkbox-group {
  padding: 0 16px 16px;
  max-height: 250px;
  overflow-y: auto;
}

.alert-confirm .alert-radio-button,
.alert-confirm .alert-checkbox-button,
.alert-info .alert-radio-button,
.alert-info .alert-checkbox-button {
  padding: 12px 16px;
  border-radius: 8px;
  margin-bottom: 8px;
  background: #f8f9fa;
}

.alert-confirm [aria-checked="true"],
.alert-info [aria-checked="true"] {
  background: linear-gradient(135deg, rgba(74, 144, 226, 0.15) 0%, rgba(74, 144, 226, 0.1) 100%);
  border-left: 3px solid var(--azul-claro, #4a90e2);
}

/* Mantener compatibilidad con clase anterior */
ion-alert.alert-delete-curso-srs {
  --background: #ffffff !important;

  &::part(backdrop) {
    background: rgba(0, 0, 0, 0.65);
  }

  .alert-wrapper {
    background: #ffffff !important;

    .alert-head {
      background: linear-gradient(135deg, #EC0677 0%, #d4055f 100%) !important;

      h2.alert-title {
        color: #ffffff !important;
        font-weight: 700 !important;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;
      }
    }

    .alert-message {
      background: #ffffff !important;
      color: #0F385A !important;
      font-weight: 500 !important;
    }

    .alert-button-group {
      background: #ffffff !important;

      button {
        &.alert-button-cancel {
          background: linear-gradient(135deg, #90a4ae 0%, #78909c 100%) !important;
          color: #ffffff !important;

          span.alert-button-inner {
            color: #ffffff !important;
            font-weight: 600 !important;
          }
        }

        &.alert-button-delete {
          background: linear-gradient(135deg, #EC0677 0%, #c90569 100%) !important;
          color: #ffffff !important;

          span.alert-button-inner {
            color: #ffffff !important;
            font-weight: 700 !important;
          }
        }
      }
    }
  }
}

/* ========================================
   ESTILOS GLOBALES PARA TOASTS SRS
   ======================================== */

// Posicionamiento de toasts en el tab bar (a la derecha del searchbar)
ion-toast {
  &.toast-in-tabbar {
    --start: auto !important;
    --end: auto !important;
    left: 799.3px !important; // Después de los subtabs
    right: 20px !important;
    top: 30px !important; // Alineado verticalmente con el tab bar
    position: fixed !important;
    z-index: 9999 !important;
    max-width: 350px !important;
    margin: 0 !important;
  }
}

// Toast de éxito con paleta SRS
ion-toast.custom-toast-success {
  --background: linear-gradient(135deg, var(--verde) 0%, #b8d951 100%);
  --color: white;
  --border-radius: 12px;
  --box-shadow: 0 6px 20px rgba(166, 206, 56, 0.4);

  .toast-wrapper {
    border-radius: 12px;
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(166, 206, 56, 0.3);
    overflow: hidden;
    animation: slideInUp 0.3s ease-out;

    .toast-container {
      background: linear-gradient(135deg, var(--verde) 0%, #b8d951 100%);
      padding: 16px 20px;
      position: relative;

      &::before {
        content: '✅';
        position: absolute;
        left: 16px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 1.2rem;
        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
      }

      .toast-message {
        color: white;
        font-weight: 600;
        font-size: 0.95rem;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        margin-left: 32px;
      }

      .toast-button {
        --color: white;
        --color-hover: rgba(255, 255, 255, 0.8);
        font-size: 1.2rem;
        --padding-start: 8px;
        --padding-end: 8px;
      }
    }
  }
}

// Toast de advertencia con paleta SRS
ion-toast.custom-toast-warning {
  --background: linear-gradient(135deg, var(--naranja) 0%, #ffc04d 100%);
  --color: white;
  --border-radius: 12px;
  --box-shadow: 0 6px 20px rgba(255, 165, 0, 0.4);

  .toast-wrapper {
    border-radius: 12px;
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 165, 0, 0.3);
    overflow: hidden;
    animation: slideInUp 0.3s ease-out;

    .toast-container {
      background: linear-gradient(135deg, var(--naranja) 0%, #ffc04d 100%);
      padding: 16px 20px;
      position: relative;

      &::before {
        content: '⚠️';
        position: absolute;
        left: 16px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 1.2rem;
        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
      }

      .toast-message {
        color: white;
        font-weight: 600;
        font-size: 0.95rem;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        margin-left: 32px;
      }

      .toast-button {
        --color: white;
        --color-hover: rgba(255, 255, 255, 0.8);
        font-size: 1.2rem;
        --padding-start: 8px;
        --padding-end: 8px;
      }
    }
  }
}

// Toast de error con paleta SRS
ion-toast.custom-toast-danger {
  --background: linear-gradient(135deg, var(--magenta) 0%, #e85a9b 100%);
  --color: white;
  --border-radius: 12px;
  --box-shadow: 0 6px 20px rgba(232, 90, 155, 0.4);

  .toast-wrapper {
    border-radius: 12px;
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(232, 90, 155, 0.3);
    overflow: hidden;
    animation: slideInUp 0.3s ease-out;

    .toast-container {
      background: linear-gradient(135deg, var(--magenta) 0%, #e85a9b 100%);
      padding: 16px 20px;
      position: relative;

      &::before {
        content: '❌';
        position: absolute;
        left: 16px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 1.2rem;
        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
      }

      .toast-message {
        color: white;
        font-weight: 600;
        font-size: 0.95rem;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        margin-left: 32px;
      }

      .toast-button {
        --color: white;
        --color-hover: rgba(255, 255, 255, 0.8);
        font-size: 1.2rem;
        --padding-start: 8px;
        --padding-end: 8px;
      }
    }
  }
}

@keyframes slideInUp {
  from {
    transform: translateY(100%);
    opacity: 0;
  }

  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* ========================================
   ESTILOS GLOBALES DE CHECKBOXES - PALETA SRS
   ======================================== */
ion-checkbox {
  --border-color: rgba(15, 56, 90, 0.3);
  --border-color-checked: var(--verde--claro);
  --background: #ffffff;
  --background-checked: var(--verde-claro);
  /* Verde claro SRS */
  --checkmark-color: var(--azul-oscuro);
  /* Verde SRS para el checkmark */
  --border-radius: 4px;
  --size: 20px;

  &::part(container) {
    border-width: 2px;
  }

  /* Fondo blanco solo cuando NO está marcado */
  &:not(.checkbox-checked)::part(container) {
    background: #ffffff;
  }
}

/* ========================================
   ESTILOS ESTANDARIZADOS DE TOAST
   ======================================== */
.toast-success {
  --background: var(--verde-claro);
  /* Verde claro SRS (#A6CE38) */
  --color: #ffffff;
  --border-radius: 8px;
  --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);

  /* Posición debajo del header */
  margin-top: 56px !important;
  /* Altura típica del header */

  .toast-wrapper {
    animation: slideInDown 0.3s ease-out;
  }

  .toast-message {
    font-weight: 600;
    font-size: 0.95rem;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  }
}

.toast-danger {
  --background: #eb445a;
  /* Rojo Ionic estándar */
  --color: #ffffff;
  --border-radius: 8px;
  --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);

  /* Posición debajo del header */
  margin-top: 56px !important;

  .toast-wrapper {
    animation: slideInDown 0.3s ease-out;
  }

  .toast-message {
    font-weight: 600;
    font-size: 0.95rem;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  }
}

.toast-warning {
  --background: var(--naranja);
  /* Naranja SRS (#FBAF17) */
  --color: #ffffff;
  --border-radius: 8px;
  --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);

  /* Posición debajo del header */
  margin-top: 56px !important;

  .toast-wrapper {
    animation: slideInDown 0.3s ease-out;
  }

  .toast-message {
    font-weight: 600;
    font-size: 0.95rem;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  }
}

@keyframes slideInDown {
  from {
    transform: translateY(-100%);
    opacity: 0;
  }

  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* ============================================================
   ALERTAS DE RÚBRICAS - Duplicados y Versiones
   ============================================================ */

.alerta-duplicada,
.alerta-nueva-version {
  --max-width: 450px;

  .alert-message {
    text-align: left;
    font-size: 0.9rem;

    p {
      margin: 8px 0;
    }

    code {
      background: var(--ion-color-light);
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'Fira Code', monospace;
      font-size: 0.85em;
    }

    strong {
      color: var(--ion-color-primary);
    }
  }
}

.alerta-duplicada {
  .alert-head {
    background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
    border-bottom: 2px solid var(--ion-color-warning);
  }

  .alert-title {
    color: #e65100 !important;
  }
}

.alerta-nueva-version {
  .alert-head {
    background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
    border-bottom: 2px solid var(--ion-color-primary);
  }

  .alert-title {
    color: var(--ion-color-primary) !important;
  }

  .alert-message {
    .version-modal-content {
      hr {
        border: none;
        border-top: 1px solid var(--ion-color-light-shade);
        margin: 12px 0;
      }

      .diferencias-lista {
        margin: 8px 0;
        padding-left: 20px;
        font-size: 0.85rem;

        li {
          margin: 4px 0;
          color: var(--ion-color-medium-shade);
        }

        em {
          color: var(--ion-color-medium);
        }
      }
    }
  }

  .alert-button-group {
    .alert-button:last-child {
      font-weight: 700;
    }
  }
}

.alerta-cambios-detectados {
  --max-width: 480px;

  .alert-head {
    background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
    border-bottom: 2px solid var(--ion-color-warning);
  }

  .alert-title {
    color: #e65100 !important;
  }

  .alert-message {
    text-align: left;

    .cambios-detectados {
      hr {
        border: none;
        border-top: 1px solid var(--ion-color-light-shade);
        margin: 12px 0;
      }

      .diferencias-lista {
        margin: 8px 0;
        padding-left: 20px;
        font-size: 0.85rem;

        li {
          margin: 4px 0;
          color: var(--ion-color-medium-shade);
        }

        em {
          color: var(--ion-color-medium);
        }
      }

      .nota {
        display: flex;
        align-items: flex-start;
        gap: 6px;
        padding: 8px 12px;
        background: #e3f2fd;
        border-radius: 6px;
        font-size: 0.8rem;
        color: var(--ion-color-primary-shade);

        ion-icon {
          flex-shrink: 0;
          margin-top: 2px;
        }
      }
    }
  }

  .alert-button-group {
    flex-wrap: wrap;

    .alert-button-secondary {
      color: var(--ion-color-medium) !important;
    }

    .alert-button-primary {
      font-weight: 700;
      color: var(--ion-color-primary) !important;
    }
  }
}

/* ============================================================
   MODAL DE HISTORIAL DE VERSIONES
   ============================================================ */

.version-history-modal {
  --width: 90%;
  --max-width: 900px;
  --height: 85%;
  --border-radius: 16px;
  --box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);

  @media (max-width: 768px) {
    --width: 100%;
    --height: 100%;
    --border-radius: 0;
  }
}

/* ===== ALERT SELECTOR DE VERSIÓN ===== */
.alert-selector-version {
  --backdrop-opacity: 0.7;
  --background: #ffffff;
  --max-width: 450px;

  .alert-wrapper {
    border-radius: 16px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.25);
    overflow: hidden;
  }

  .alert-head {
    padding: 20px 24px 16px;
    background: linear-gradient(135deg, var(--azul-oscuro, #0f385a) 0%, #1a5a7a 100%);
  }

  .alert-title {
    color: #ffffff;
    font-size: 1.15rem;
    font-weight: 700;
    margin: 0;
  }

  .alert-sub-title {
    color: rgba(255, 255, 255, 0.85);
    font-size: 0.85rem;
    margin-top: 4px;
  }

  .alert-message {
    padding: 12px 24px;
    color: #666;
    font-size: 0.85rem;
    line-height: 1.5;
    background: #f8f9fa;
    border-bottom: 1px solid #e9ecef;
  }

  .alert-radio-group {
    padding: 8px 16px;
    max-height: 250px;
    overflow-y: auto;
  }

  .alert-radio-button {
    padding: 12px 16px;
    margin: 4px 0;
    border-radius: 8px;
    transition: background-color 0.2s ease;

    &:hover {
      background-color: #f0f4f8;
    }

    &.alert-radio-button-checked {
      background-color: #e3f2fd;
    }

    .alert-radio-label {
      font-size: 0.9rem;
      color: #333;
    }
  }

  .alert-button-group {
    padding: 16px 24px 20px;
    background: #f8f9fa;
    border-top: 1px solid #e9ecef;
  }

  .alert-button {
    padding: 10px 20px;
    border-radius: 8px;
    font-weight: 600;
    font-size: 0.9rem;
    min-width: 100px;
    text-transform: none;
    margin: 0 6px;
  }

  .alert-button-role-cancel {
    background: #f1f3f4;
    color: #5f6368;
    border: 1px solid #dadce0;
  }

  .alert-button:not(.alert-button-role-cancel) {
    background: linear-gradient(135deg, var(--azul-claro, #4a90e2) 0%, var(--azul-oscuro, #0f385a) 100%);
    color: #ffffff;
  }
}

/* ===== ALERT SELECTOR DE RÚBRICA BASE ===== */
.alert-selector-rubrica-base {
  --backdrop-opacity: 0.7;
  --background: #ffffff;
  --max-width: 500px;

  .alert-wrapper {
    border-radius: 16px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.25);
    overflow: hidden;
  }

  .alert-head {
    padding: 20px 24px 16px;
    background: linear-gradient(135deg, var(--azul-oscuro, #0f385a) 0%, #1a5a7a 100%);
  }

  .alert-title {
    color: #ffffff;
    font-size: 1.15rem;
    font-weight: 700;
    margin: 0;
  }

  .alert-message {
    padding: 12px 24px;
    color: #666;
    font-size: 0.85rem;
    line-height: 1.5;
    background: #f8f9fa;
    border-bottom: 1px solid #e9ecef;
  }

  .alert-radio-group {
    padding: 8px 16px;
    max-height: 300px;
    overflow-y: auto;
  }

  .alert-radio-button {
    padding: 12px 16px;
    margin: 4px 0;
    border-radius: 8px;
    transition: background-color 0.2s ease;

    &:hover {
      background-color: #f0f4f8;
    }

    &.alert-radio-button-checked {
      background-color: #e3f2fd;
    }

    .alert-radio-label {
      font-size: 0.85rem;
      color: #333;
      white-space: normal;
      word-break: break-word;
    }
  }

  .alert-button-group {
    padding: 16px 24px 20px;
    background: #f8f9fa;
    border-top: 1px solid #e9ecef;
  }

  .alert-button {
    padding: 10px 20px;
    border-radius: 8px;
    font-weight: 600;
    font-size: 0.9rem;
    min-width: 100px;
    text-transform: none;
    margin: 0 6px;
  }

  .alert-button-role-cancel {
    background: #f1f3f4;
    color: #5f6368;
    border: 1px solid #dadce0;
  }

  .alert-button:not(.alert-button-role-cancel) {
    background: linear-gradient(135deg, #28a745 0%, #1e7e34 100%);
    color: #ffffff;
  }
}