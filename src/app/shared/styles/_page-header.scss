// ============================================
// SHARED PAGE HEADER COMPONENT STYLES
// ============================================
// Siguiendo mejores prácticas de Ionic Framework
// https://ionicframework.com/docs/theming/css-variables

@use './typography-variables' as *;
@use './typography-mixins' as typo;
@use './breakpoints' as bp;
// Force recompilation - Typography System v2

/**
 * Estilos compartidos para headers de página
 * Usado en: Cursos, Rúbricas, y otras páginas
 * 
 * Implementa un sistema consistente usando CSS custom properties
 * para mantener homogeneidad visual en toda la aplicación
 */

.page-header,
.page-title-header {
    // Layout
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    box-sizing: border-box;

    // Spacing
    padding: var(--page-header-padding, 8px) var(--page-header-padding-horizontal, 16px);
    margin-bottom: var(--page-header-margin-bottom, 8px);

    // Visual styling
    background: linear-gradient(135deg,
            var(--ion-color-primary) 0%,
            var(--ion-color-primary-shade) 100%);
    border-radius: var(--page-header-border-radius, 6px);
    box-shadow: var(--page-header-box-shadow);

    // Positioning
    position: relative;
    z-index: 5;

    // Title wrapper
    .title-wrapper {
        display: flex;
        align-items: center;
        gap: calc(var(--ion-padding, 8px) * 0.75);
    }

    // Actions container
    .header-actions {
        display: flex;
        align-items: center;
        gap: calc(var(--ion-padding, 8px) * 0.75);
        margin-left: auto;
    }

    // Icons styling
    ion-icon {
        font-size: 1.1rem;
        color: var(--ion-color-primary-contrast);
    }

    // Title styling - USANDO NUEVO SISTEMA TIPOGRÁFICO
    // Increased specificity to override any conflicting rules
    h2,
    .title-wrapper h2 {
        margin: 0;
        color: var(--ion-color-primary-contrast);
        letter-spacing: 0.3px;
        @include typo.typography-page-title;
    }

    // Button styling - usando CSS custom properties de Ionic
    ion-button {
        --padding-top: 4px;
        --padding-bottom: 4px;
        --padding-start: 16px;
        --padding-end: 16px;

        @include typo.typography-button-primary;

        // Forzar altura consistente para evitar diferencias entre páginas
        &[size="small"] {
            height: 32px;
            min-height: 32px;
            --padding-top: 0;
            --padding-bottom: 0;
            margin: 0;
        }
    }

    // ============================================
    // RESPONSIVE BREAKPOINTS - Simplificado
    // ============================================

    // Tablet
    @include bp.tablet-only {
        padding: calc(var(--ion-padding, 8px) * 0.75) calc(var(--ion-padding, 8px) * 1.25);
        border-radius: 5px;

        ion-icon {
            font-size: 1rem;
        }

        ion-button {
            --padding-start: 6px;
            --padding-end: 6px;
        }
    }

    // Mobile
    @include bp.mobile-only {
        padding: calc(var(--ion-padding, 8px) * 0.625) var(--ion-padding, 8px);
        margin-bottom: calc(var(--ion-margin, 4px) * 0.5);
        border-radius: 4px;

        .title-wrapper {
            gap: calc(var(--ion-padding, 8px) * 0.5);
        }

        .header-actions {
            gap: calc(var(--ion-padding, 8px) * 0.375);
        }

        ion-icon {
            font-size: 0.9rem;
        }

        ion-button {
            --padding-start: 5px;
            --padding-end: 5px;
        }
    }

    // Landscape móvil - accesibilidad táctil
    @media (max-height: 500px) and (orientation: landscape) {
        padding: calc(var(--ion-padding, 8px) * 0.5) var(--ion-padding, 8px);
        margin-bottom: 1px;

        ion-icon {
            font-size: 0.85rem;
        }

        ion-button {
            // Mantener min-height para accesibilidad táctil iOS
            --min-height: 44px;
            height: auto;
        }
    }
}