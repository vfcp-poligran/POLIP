<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>POLIProject - Parte 3.5: Models</title>
  <style>
    :root {
      --primary-color: #0f385a;
      --secondary-color: #667eea;
      --accent-color: #764ba2;
      --bg-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --code-bg: #1e1e1e;
      --code-text: #d4d4d4;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      min-height: 100vh;
      line-height: 1.6;
      color: #333;
    }

    .container { max-width: 1200px; margin: 0 auto; padding: 40px 20px; }

    header {
      background: var(--bg-gradient);
      color: white;
      padding: 40px;
      border-radius: 20px;
      margin-bottom: 40px;
      box-shadow: 0 10px 40px rgba(102, 126, 234, 0.3);
    }

    header h1 { font-size: 2.5rem; margin-bottom: 10px; }
    header .subtitle { font-size: 1.2rem; opacity: 0.9; }
    header .part-indicator {
      display: inline-block;
      background: rgba(255,255,255,0.2);
      padding: 8px 16px;
      border-radius: 20px;
      margin-top: 15px;
      font-weight: 600;
    }

    .nav-parts { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 30px; }
    .nav-parts a {
      padding: 10px 20px;
      background: white;
      color: var(--primary-color);
      text-decoration: none;
      border-radius: 10px;
      font-weight: 500;
      transition: all 0.3s ease;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .nav-parts a:hover, .nav-parts a.active { background: var(--bg-gradient); color: white; }

    .section {
      background: white;
      border-radius: 16px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
    }

    .section h2 {
      color: var(--primary-color);
      border-bottom: 3px solid var(--secondary-color);
      padding-bottom: 10px;
      margin-bottom: 20px;
      font-size: 1.6rem;
    }

    .section h3 { color: var(--secondary-color); margin: 25px 0 15px 0; font-size: 1.3rem; }

    .file-header {
      background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
      color: white;
      padding: 15px 20px;
      border-radius: 10px 10px 0 0;
      font-family: 'Consolas', monospace;
      font-size: 1rem;
    }

    .code-block {
      background: var(--code-bg);
      border-radius: 0 0 10px 10px;
      overflow-x: auto;
      margin-bottom: 20px;
    }

    .code-block code {
      display: block;
      padding: 20px;
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 0.85rem;
      line-height: 1.8;
      color: var(--code-text);
    }

    .code-line { display: block; padding: 2px 0; }
    .code-line:hover { background: rgba(255,255,255,0.05); }

    .keyword { color: #569cd6; }
    .string { color: #ce9178; }
    .comment { color: #6a9955; font-style: italic; }
    .class-name { color: #4ec9b0; }
    .type { color: #4ec9b0; }
    .property { color: #9cdcfe; }
    .number { color: #b5cea8; }

    .explanation {
      background: linear-gradient(135deg, #e8f4f8 0%, #f0f8ff 100%);
      border-left: 4px solid var(--secondary-color);
      padding: 20px;
      margin: 20px 0;
      border-radius: 0 10px 10px 0;
    }

    .explanation h4 { color: var(--primary-color); margin-bottom: 10px; }
    .explanation ul { margin-left: 20px; }
    .explanation li { margin: 8px 0; }

    .tech-term {
      background: linear-gradient(135deg, #667eea20, #764ba220);
      padding: 2px 8px;
      border-radius: 4px;
      font-weight: 600;
      color: var(--primary-color);
      cursor: help;
      border-bottom: 1px dashed var(--secondary-color);
    }

    .info-box {
      background: #fff3cd;
      border: 1px solid #ffc107;
      border-radius: 10px;
      padding: 15px 20px;
      margin: 15px 0;
    }
    .info-box.success { background: #d4edda; border-color: #28a745; }
    .info-box.primary { background: #cce5ff; border-color: #007bff; }

    .model-card {
      background: #f8f9fa;
      border: 2px solid #e9ecef;
      border-radius: 12px;
      margin: 15px 0;
      overflow: hidden;
    }

    .model-card-header {
      background: var(--bg-gradient);
      color: white;
      padding: 12px 20px;
      font-weight: 600;
      font-family: 'Consolas', monospace;
    }

    .model-card-body {
      padding: 15px 20px;
    }

    .property-table {
      width: 100%;
      border-collapse: collapse;
      margin: 15px 0;
    }

    .property-table th, .property-table td {
      padding: 10px 12px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }

    .property-table th { background: var(--primary-color); color: white; font-size: 0.9rem; }
    .property-table tr:nth-child(even) { background: #f8f9fa; }
    .property-table code { background: #e9ecef; padding: 2px 6px; border-radius: 4px; font-size: 0.85rem; }

    .type-badge {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 0.75rem;
      font-weight: 600;
      font-family: 'Consolas', monospace;
    }
    .type-badge.string { background: #ce917830; color: #a6713c; }
    .type-badge.number { background: #b5cea830; color: #6b8e23; }
    .type-badge.boolean { background: #569cd630; color: #2d5a87; }
    .type-badge.object { background: #4ec9b030; color: #2a8f82; }
    .type-badge.array { background: #c586c030; color: #8b5a8b; }
    .type-badge.date { background: #dcdcaa30; color: #8b8000; }

    .entity-diagram {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }

    .entity-box {
      background: white;
      border: 2px solid var(--secondary-color);
      border-radius: 10px;
      overflow: hidden;
    }

    .entity-box .title {
      background: var(--secondary-color);
      color: white;
      padding: 10px;
      text-align: center;
      font-weight: 600;
    }

    .entity-box .fields {
      padding: 10px;
      font-size: 0.85rem;
    }

    .entity-box .field {
      padding: 4px 0;
      border-bottom: 1px dashed #eee;
    }

    .entity-box .field:last-child { border-bottom: none; }

    footer {
      text-align: center;
      padding: 30px;
      color: #666;
      border-top: 1px solid #ddd;
      margin-top: 40px;
    }
    footer a { color: var(--secondary-color); }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>üì¶ POLIProject</h1>
      <p class="subtitle">Documentaci√≥n T√©cnica del C√≥digo Fuente</p>
      <span class="part-indicator">üìÑ Parte 3.5: Models (Modelos de Datos)</span>
    </header>

    <nav class="nav-parts">
      <a href="DOCUMENTACION-TECNICA-PARTE-1.html">Parte 1: Config</a>
      <a href="DOCUMENTACION-TECNICA-PARTE-2.html">Parte 2: Estructura</a>
      <a href="DOCUMENTACION-TECNICA-PARTE-3-1.html">3.1: Ra√≠z</a>
      <a href="DOCUMENTACION-TECNICA-PARTE-3-2.html">3.2: Core</a>
      <a href="DOCUMENTACION-TECNICA-PARTE-3-3.html">3.3: Tabs</a>
      <a href="DOCUMENTACION-TECNICA-PARTE-3-4.html">3.4: Styles</a>
      <a href="DOCUMENTACION-TECNICA-PARTE-3-5.html" class="active">3.5: Models</a>
      <a href="DOCUMENTACION-TECNICA-PARTE-3-6.html">3.6: Services</a>
      <a href="DOCUMENTACION-TECNICA-PARTE-3-7.html">3.7: Components</a>
      <a href="DOCUMENTACION-TECNICA-PARTE-3-8.html">3.8: Pages</a>
    </nav>

    <!-- ============================================ -->
    <!-- INTRODUCCI√ìN -->
    <!-- ============================================ -->
    <section class="section">
      <h2>üéØ ¬øQu√© son los Models?</h2>
      <p>Los <span class="tech-term" title="Definiciones de tipos en TypeScript">Models</span> definen la estructura de datos de la aplicaci√≥n mediante <strong>interfaces TypeScript</strong>. Garantizan tipado est√°tico y autocompletado en el IDE.</p>

      <div class="entity-diagram">
        <div class="entity-box">
          <div class="title">üë§ Estudiante</div>
          <div class="fields">
            <div class="field">correo (PK)</div>
            <div class="field">nombres</div>
            <div class="field">apellidos</div>
            <div class="field">grupo</div>
          </div>
        </div>
        <div class="entity-box">
          <div class="title">üìö Curso</div>
          <div class="fields">
            <div class="field">nombre (PK)</div>
            <div class="field">estudiantes[]</div>
            <div class="field">fechaCreacion</div>
          </div>
        </div>
        <div class="entity-box">
          <div class="title">üìã R√∫brica</div>
          <div class="fields">
            <div class="field">id (PK)</div>
            <div class="field">tipoRubrica (PG|PI)</div>
            <div class="field">tipoEntrega (E1|E2|EF)</div>
            <div class="field">criterios[]</div>
          </div>
        </div>
        <div class="entity-box">
          <div class="title">‚öôÔ∏è UIState</div>
          <div class="fields">
            <div class="field">cursoActivo</div>
            <div class="field">courseStates{}</div>
            <div class="field">configuraci√≥n</div>
          </div>
        </div>
      </div>

      <div class="info-box primary">
        <strong>üí° Barrel Export:</strong> Todos los modelos se exportan desde <code>src/app/models/index.ts</code>, permitiendo importar con: <code>import { Estudiante, Curso } from '@app/models';</code>
      </div>
    </section>

    <!-- ============================================ -->
    <!-- ESTUDIANTE.MODEL.TS -->
    <!-- ============================================ -->
    <section class="section">
      <h2>üë§ estudiante.model.ts</h2>
      <p>Define la estructura de un estudiante y sus calificaciones por entrega.</p>

      <div class="file-header">üìÑ src/app/models/estudiante.model.ts</div>
      <div class="code-block">
        <code>
<span class="code-line"><span class="keyword">export interface</span> <span class="class-name">Estudiante</span> {</span>
<span class="code-line">  <span class="property">canvasUserId</span>?: <span class="type">string</span>;      <span class="comment">// ID √∫nico de Canvas LMS</span></span>
<span class="code-line">  <span class="property">canvasGroupId</span>?: <span class="type">string</span>;     <span class="comment">// ID del grupo en Canvas</span></span>
<span class="code-line">  <span class="property">apellidos</span>: <span class="type">string</span>;           <span class="comment">// Apellidos del estudiante</span></span>
<span class="code-line">  <span class="property">nombres</span>: <span class="type">string</span>;             <span class="comment">// Nombres del estudiante</span></span>
<span class="code-line">  <span class="property">correo</span>: <span class="type">string</span>;              <span class="comment">// Email (PRIMARY KEY)</span></span>
<span class="code-line">  <span class="property">grupo</span>: <span class="type">string</span>;               <span class="comment">// N√∫mero de subgrupo: "1", "2"...</span></span>
<span class="code-line">  <span class="property">groupName</span>?: <span class="type">string</span>;          <span class="comment">// Nombre completo: "Grupo 1"</span></span>
<span class="code-line">}</span>
<span class="code-line"></span>
<span class="code-line"><span class="keyword">export interface</span> <span class="class-name">NotaEstudiante</span> {</span>
<span class="code-line">  <span class="property">estudiante</span>: <span class="type">Estudiante</span>;      <span class="comment">// Referencia al estudiante</span></span>
<span class="code-line">  <span class="property">e1</span>?: <span class="type">NotaEntrega</span>;            <span class="comment">// Calificaci√≥n Entrega 1</span></span>
<span class="code-line">  <span class="property">e2</span>?: <span class="type">NotaEntrega</span>;            <span class="comment">// Calificaci√≥n Entrega 2</span></span>
<span class="code-line">  <span class="property">ef</span>?: <span class="type">NotaEntrega</span>;            <span class="comment">// Calificaci√≥n Entrega Final</span></span>
<span class="code-line">}</span>
<span class="code-line"></span>
<span class="code-line"><span class="keyword">export interface</span> <span class="class-name">NotaEntrega</span> {</span>
<span class="code-line">  <span class="property">pg</span>?: <span class="type">number</span>;                 <span class="comment">// Puntaje Grupal (0-75)</span></span>
<span class="code-line">  <span class="property">pi</span>?: <span class="type">number</span>;                 <span class="comment">// Puntaje Individual (0-25)</span></span>
<span class="code-line">  <span class="property">suma</span>?: <span class="type">number</span>;               <span class="comment">// Total: PG + PI (0-100)</span></span>
<span class="code-line">}</span>
        </code>
      </div>

      <table class="property-table">
        <thead>
          <tr>
            <th>Propiedad</th>
            <th>Tipo</th>
            <th>Requerido</th>
            <th>Descripci√≥n</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>correo</code></td>
            <td><span class="type-badge string">string</span></td>
            <td>‚úÖ S√≠</td>
            <td>Identificador √∫nico del estudiante (Primary Key)</td>
          </tr>
          <tr>
            <td><code>nombres</code></td>
            <td><span class="type-badge string">string</span></td>
            <td>‚úÖ S√≠</td>
            <td>Nombres del estudiante</td>
          </tr>
          <tr>
            <td><code>apellidos</code></td>
            <td><span class="type-badge string">string</span></td>
            <td>‚úÖ S√≠</td>
            <td>Apellidos del estudiante</td>
          </tr>
          <tr>
            <td><code>grupo</code></td>
            <td><span class="type-badge string">string</span></td>
            <td>‚úÖ S√≠</td>
            <td>N√∫mero de subgrupo de proyecto</td>
          </tr>
          <tr>
            <td><code>canvasUserId</code></td>
            <td><span class="type-badge string">string</span></td>
            <td>‚ùå No</td>
            <td>ID para integraci√≥n con Canvas LMS</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- ============================================ -->
    <!-- CURSO.MODEL.TS -->
    <!-- ============================================ -->
    <section class="section">
      <h2>üìö curso.model.ts</h2>
      <p>Define la estructura de un curso acad√©mico con su lista de estudiantes.</p>

      <div class="file-header">üìÑ src/app/models/curso.model.ts</div>
      <div class="code-block">
        <code>
<span class="code-line"><span class="keyword">import</span> { Estudiante } <span class="keyword">from</span> <span class="string">'./estudiante.model'</span>;</span>
<span class="code-line"></span>
<span class="code-line"><span class="keyword">export interface</span> <span class="class-name">Curso</span> {</span>
<span class="code-line">  <span class="property">nombre</span>: <span class="type">string</span>;              <span class="comment">// Nombre del curso (PRIMARY KEY)</span></span>
<span class="code-line">  <span class="property">estudiantes</span>: <span class="type">Estudiante[]</span>;  <span class="comment">// Array de estudiantes matriculados</span></span>
<span class="code-line">  <span class="property">fechaCreacion</span>: <span class="type">Date</span>;        <span class="comment">// Fecha de importaci√≥n del curso</span></span>
<span class="code-line">  <span class="property">fechaModificacion</span>: <span class="type">Date</span>;    <span class="comment">// √öltima modificaci√≥n</span></span>
<span class="code-line">}</span>
<span class="code-line"></span>
<span class="code-line"><span class="comment">/** Mapa indexado por nombre de curso */</span></span>
<span class="code-line"><span class="keyword">export interface</span> <span class="class-name">CursoData</span> {</span>
<span class="code-line">  [nombreCurso: <span class="type">string</span>]: <span class="type">Estudiante[]</span>;</span>
<span class="code-line">}</span>
        </code>
      </div>

      <div class="explanation">
        <h4>üìö Relaci√≥n Curso-Estudiante</h4>
        <p>Un <strong>Curso</strong> contiene m√∫ltiples <strong>Estudiantes</strong> (relaci√≥n 1:N). El nombre del curso es √∫nico y se usa como identificador.</p>
        <p><strong>CursoData</strong> es un <span class="tech-term" title="Objeto con claves din√°micas">Index Signature</span> que permite acceder a estudiantes por nombre de curso: <code>cursoData['EPM-B01']</code></p>
      </div>
    </section>

    <!-- ============================================ -->
    <!-- EVALUACION.MODEL.TS -->
    <!-- ============================================ -->
    <section class="section">
      <h2>üìã evaluacion.model.ts</h2>
      <p>El modelo m√°s complejo. Define r√∫bricas, criterios y escalas de evaluaci√≥n.</p>

      <h3>Tipos B√°sicos</h3>
      <div class="file-header">üìÑ Tipos y constantes</div>
      <div class="code-block">
        <code>
<span class="code-line"><span class="comment">/** Tipos de entrega disponibles */</span></span>
<span class="code-line"><span class="keyword">export type</span> <span class="class-name">TipoEntrega</span> = <span class="string">'E1'</span> | <span class="string">'E2'</span> | <span class="string">'EF'</span>;</span>
<span class="code-line"></span>
<span class="code-line"><span class="comment">/** Tipos de r√∫brica: Proyecto Grupal o Individual */</span></span>
<span class="code-line"><span class="keyword">export type</span> <span class="class-name">TipoRubrica</span> = <span class="string">'PG'</span> | <span class="string">'PI'</span>;</span>
<span class="code-line"></span>
<span class="code-line"><span class="comment">/** Estados de una r√∫brica */</span></span>
<span class="code-line"><span class="keyword">export type</span> <span class="class-name">EstadoRubrica</span> = <span class="string">'borrador'</span> | <span class="string">'publicada'</span>;</span>
<span class="code-line"></span>
<span class="code-line"><span class="comment">/** T√≠tulos est√°ndar para los 4 niveles de evaluaci√≥n */</span></span>
<span class="code-line"><span class="keyword">export const</span> NIVELES_ESTANDAR = [<span class="string">'Insuficiente'</span>, <span class="string">'Aceptable'</span>, <span class="string">'Bueno'</span>, <span class="string">'Excelente'</span>] <span class="keyword">as const</span>;</span>
<span class="code-line"></span>
<span class="code-line"><span class="comment">/** N√∫mero fijo de niveles por criterio */</span></span>
<span class="code-line"><span class="keyword">export const</span> CANTIDAD_NIVELES = <span class="number">4</span>;</span>
        </code>
      </div>

      <div class="info-box">
        <strong>üìù Nomenclatura:</strong>
        <ul style="margin: 10px 0 0 20px;">
          <li><strong>E1, E2, EF</strong> = Entrega 1, Entrega 2, Entrega Final</li>
          <li><strong>PG</strong> = Proyecto Grupal (75 puntos m√°x.)</li>
          <li><strong>PI</strong> = Proyecto Individual (25 puntos m√°x.)</li>
        </ul>
      </div>

      <h3>Interfaz RubricaDefinicion</h3>
      <div class="file-header">üìÑ Definici√≥n principal de r√∫brica</div>
      <div class="code-block">
        <code>
<span class="code-line"><span class="keyword">export interface</span> <span class="class-name">RubricaDefinicion</span> {</span>
<span class="code-line">  <span class="property">id</span>: <span class="type">string</span>;                    <span class="comment">// ID √∫nico interno</span></span>
<span class="code-line">  <span class="property">nombre</span>: <span class="type">string</span>;                <span class="comment">// Nombre descriptivo</span></span>
<span class="code-line">  <span class="property">descripcion</span>: <span class="type">string</span>;           <span class="comment">// Descripci√≥n o curso asociado</span></span>
<span class="code-line">  <span class="property">criterios</span>: <span class="type">CriterioRubrica[]</span>;  <span class="comment">// Lista de criterios</span></span>
<span class="code-line">  <span class="property">puntuacionTotal</span>?: <span class="type">number</span>;      <span class="comment">// Puntuaci√≥n m√°xima (75 √≥ 25)</span></span>
<span class="code-line">  <span class="property">escalaCalificacion</span>?: <span class="type">EscalaCalificacion[]</span>;</span>
<span class="code-line">  <span class="property">tipoEntrega</span>?: <span class="type">TipoEntrega</span>;    <span class="comment">// E1, E2, o EF</span></span>
<span class="code-line">  <span class="property">tipoRubrica</span>?: <span class="type">TipoRubrica</span>;    <span class="comment">// PG o PI</span></span>
<span class="code-line">  <span class="property">codigo</span>?: <span class="type">string</span>;              <span class="comment">// Ej: "RGE1-EPM-001"</span></span>
<span class="code-line">  <span class="property">version</span>?: <span class="type">number</span>;             <span class="comment">// Versi√≥n de la r√∫brica</span></span>
<span class="code-line">  <span class="property">activa</span>?: <span class="type">boolean</span>;             <span class="comment">// Si es versi√≥n activa</span></span>
<span class="code-line">  <span class="property">estado</span>?: <span class="type">EstadoRubrica</span>;       <span class="comment">// borrador | publicada</span></span>
<span class="code-line">  <span class="property">fechaCreacion</span>?: <span class="type">Date</span>;</span>
<span class="code-line">  <span class="property">fechaModificacion</span>?: <span class="type">Date</span>;</span>
<span class="code-line">}</span>
<span class="code-line"></span>
<span class="code-line"><span class="keyword">export interface</span> <span class="class-name">CriterioRubrica</span> {</span>
<span class="code-line">  <span class="property">titulo</span>: <span class="type">string</span>;               <span class="comment">// Nombre del criterio</span></span>
<span class="code-line">  <span class="property">descripcion</span>?: <span class="type">string</span>;         <span class="comment">// Descripci√≥n opcional</span></span>
<span class="code-line">  <span class="property">peso</span>?: <span class="type">number</span>;                <span class="comment">// Peso m√≠nimo (0)</span></span>
<span class="code-line">  <span class="property">pesoMaximo</span>?: <span class="type">number</span>;          <span class="comment">// Peso m√°ximo del criterio</span></span>
<span class="code-line">  <span class="property">nivelesDetalle</span>: <span class="type">NivelRubricaDetallado[]</span>; <span class="comment">// 4 niveles</span></span>
<span class="code-line">}</span>
<span class="code-line"></span>
<span class="code-line"><span class="keyword">export interface</span> <span class="class-name">NivelRubricaDetallado</span> {</span>
<span class="code-line">  <span class="property">puntos</span>: <span class="type">string</span>;              <span class="comment">// "0", "1-5", "6-10"...</span></span>
<span class="code-line">  <span class="property">titulo</span>: <span class="type">string</span>;              <span class="comment">// Insuficiente, Aceptable...</span></span>
<span class="code-line">  <span class="property">descripcion</span>: <span class="type">string</span>;         <span class="comment">// Criterio de evaluaci√≥n</span></span>
<span class="code-line">}</span>
        </code>
      </div>

      <h3>Formato JSON para Importaci√≥n</h3>
      <div class="file-header">üìÑ Interface RubricaJSON (archivos .json)</div>
      <div class="code-block">
        <code>
<span class="code-line"><span class="keyword">export interface</span> <span class="class-name">RubricaJSON</span> {</span>
<span class="code-line">  <span class="property">rubrica_id</span>: <span class="type">string</span>;           <span class="comment">// "RGE1", "RIE2"...</span></span>
<span class="code-line">  <span class="property">curso</span>: <span class="type">string</span>;                <span class="comment">// Nombre del curso</span></span>
<span class="code-line">  <span class="property">puntuacion_total</span>: <span class="type">number</span>;     <span class="comment">// 75 (PG) o 25 (PI)</span></span>
<span class="code-line">  <span class="property">escala_calificacion</span>: <span class="type">EscalaCalificacionJSON[]</span>;</span>
<span class="code-line">  <span class="property">criterios</span>: <span class="type">CriterioRubricaJSON[]</span>;</span>
<span class="code-line">}</span>
        </code>
      </div>
    </section>

    <!-- ============================================ -->
    <!-- APP-STATE.MODEL.TS -->
    <!-- ============================================ -->
    <section class="section">
      <h2>‚öôÔ∏è app-state.model.ts</h2>
      <p>Define el estado persistente de la UI y configuraci√≥n de usuario.</p>

      <div class="file-header">üìÑ src/app/models/app-state.model.ts</div>
      <div class="code-block">
        <code>
<span class="code-line"><span class="keyword">export interface</span> <span class="class-name">UIState</span> {</span>
<span class="code-line">  <span class="property">cursoActivo</span>: <span class="type">string</span> | <span class="keyword">null</span>;          <span class="comment">// Curso seleccionado</span></span>
<span class="code-line">  <span class="property">grupoSeguimientoActivo</span>: <span class="type">string</span> | <span class="keyword">null</span>;</span>
<span class="code-line">  <span class="property">mostrarNombreCorto</span>?: <span class="type">boolean</span>;        <span class="comment">// Botones de curso abreviados</span></span>
<span class="code-line">  <span class="property">mostrarMensajesEmergentes</span>?: <span class="type">boolean</span>; <span class="comment">// Habilitar toasts</span></span>
<span class="code-line">  <span class="property">duracionToast</span>?: <span class="type">number</span>;             <span class="comment">// Segundos (1-4)</span></span>
<span class="code-line">  <span class="property">cursosModoEdicion</span>?: <span class="type">boolean</span>;        <span class="comment">// Panel importaci√≥n abierto</span></span>
<span class="code-line">  <span class="property">courseStates</span>: { [cursoNombre: <span class="type">string</span>]: <span class="type">CourseState</span> };</span>
<span class="code-line">}</span>
<span class="code-line"></span>
<span class="code-line"><span class="keyword">export interface</span> <span class="class-name">CourseState</span> {</span>
<span class="code-line">  <span class="property">activeStudent</span>: <span class="type">string</span> | <span class="keyword">null</span>;       <span class="comment">// Email del estudiante activo</span></span>
<span class="code-line">  <span class="property">activeGroup</span>: <span class="type">string</span> | <span class="keyword">null</span>;         <span class="comment">// Grupo seleccionado</span></span>
<span class="code-line">  <span class="property">activeDelivery</span>: <span class="string">'E1'</span> | <span class="string">'E2'</span> | <span class="string">'EF'</span> | <span class="keyword">null</span>;</span>
<span class="code-line">  <span class="property">activeType</span>: <span class="string">'PG'</span> | <span class="string">'PI'</span> | <span class="keyword">null</span>;</span>
<span class="code-line">  <span class="property">filtroGrupo</span>: <span class="type">string</span>;               <span class="comment">// Filtro de b√∫squeda</span></span>
<span class="code-line">  <span class="property">emailsVisible</span>: <span class="type">boolean</span>;           <span class="comment">// Mostrar emails en tabla</span></span>
<span class="code-line">  <span class="property">color</span>?: <span class="type">string</span>;                    <span class="comment">// Color del bot√≥n curso</span></span>
<span class="code-line">  <span class="property">metadata</span>?: { ... };                <span class="comment">// Informaci√≥n adicional</span></span>
<span class="code-line">  <span class="property">rubricasAsociadas</span>?: { ... };       <span class="comment">// R√∫bricas por entrega</span></span>
<span class="code-line">}</span>
        </code>
      </div>

      <div class="explanation">
        <h4>üìö Persistencia de Estado</h4>
        <p><strong>UIState</strong> se guarda en <span class="tech-term">localStorage/SQLite</span> con la key <code>appUIState</code>. Permite que al refrescar (F5), la app recuerde:</p>
        <ul>
          <li>Qu√© curso estaba seleccionado</li>
          <li>Qu√© entrega/tipo de evaluaci√≥n estaba activo</li>
          <li>Colores personalizados de cursos</li>
          <li>R√∫bricas asociadas a cada curso/entrega</li>
        </ul>
      </div>
    </section>

    <!-- ============================================ -->
    <!-- COMENTARIO-GRUPO.MODEL.TS -->
    <!-- ============================================ -->
    <section class="section">
      <h2>üí¨ comentario-grupo.model.ts</h2>
      <p>Define comentarios de retroalimentaci√≥n por grupo.</p>

      <div class="file-header">üìÑ src/app/models/comentario-grupo.model.ts</div>
      <div class="code-block">
        <code>
<span class="code-line"><span class="keyword">export interface</span> <span class="class-name">ComentarioGrupo</span> {</span>
<span class="code-line">  <span class="property">id</span>: <span class="type">string</span>;           <span class="comment">// UUID √∫nico</span></span>
<span class="code-line">  <span class="property">cursoId</span>: <span class="type">string</span>;      <span class="comment">// Ej: "EPMB01"</span></span>
<span class="code-line">  <span class="property">grupo</span>: <span class="type">string</span>;        <span class="comment">// Ej: "G1", "G2"</span></span>
<span class="code-line">  <span class="property">comentario</span>: <span class="type">string</span>;   <span class="comment">// Texto del feedback</span></span>
<span class="code-line">  <span class="property">fecha</span>: <span class="type">Date</span>;          <span class="comment">// Fecha de creaci√≥n</span></span>
<span class="code-line">  <span class="property">autor</span>?: <span class="type">string</span>;       <span class="comment">// Qui√©n lo cre√≥</span></span>
<span class="code-line">  <span class="property">etiquetas</span>?: <span class="type">string[]</span>; <span class="comment">// Tags clasificatorios</span></span>
<span class="code-line">}</span>
<span class="code-line"></span>
<span class="code-line"><span class="keyword">export interface</span> <span class="class-name">ComentariosGrupoData</span> {</span>
<span class="code-line">  [cursoId: <span class="type">string</span>]: {</span>
<span class="code-line">    [grupo: <span class="type">string</span>]: <span class="type">ComentarioGrupo[]</span>;</span>
<span class="code-line">  };</span>
<span class="code-line">}</span>
        </code>
      </div>
    </section>

    <!-- ============================================ -->
    <!-- INDEX.TS -->
    <!-- ============================================ -->
    <section class="section">
      <h2>üì¶ index.ts - Barrel Export</h2>

      <div class="file-header">üìÑ src/app/models/index.ts</div>
      <div class="code-block">
        <code>
<span class="code-line"><span class="comment">// Re-exportar todos los modelos</span></span>
<span class="code-line"><span class="keyword">export</span> * <span class="keyword">from</span> <span class="string">'./curso.model'</span>;</span>
<span class="code-line"><span class="keyword">export</span> * <span class="keyword">from</span> <span class="string">'./estudiante.model'</span>;</span>
<span class="code-line"><span class="keyword">export</span> * <span class="keyword">from</span> <span class="string">'./evaluacion.model'</span>;</span>
<span class="code-line"><span class="keyword">export</span> * <span class="keyword">from</span> <span class="string">'./app-state.model'</span>;</span>
<span class="code-line"><span class="keyword">export</span> * <span class="keyword">from</span> <span class="string">'./comentario-grupo.model'</span>;</span>
<span class="code-line"></span>
<span class="code-line"><span class="comment">// Re-exportar tipos espec√≠ficos</span></span>
<span class="code-line"><span class="keyword">export type</span> {</span>
<span class="code-line">  EscalaCalificacion,</span>
<span class="code-line">  NivelRubricaDetallado</span>
<span class="code-line">} <span class="keyword">from</span> <span class="string">'./evaluacion.model'</span>;</span>
        </code>
      </div>

      <div class="info-box success">
        <strong>‚úÖ Uso simplificado:</strong>
        <div style="font-family: monospace; margin-top: 10px; background: #f8f9fa; padding: 10px; border-radius: 5px;">
          import { Estudiante, Curso, RubricaDefinicion, UIState } from '@app/models';
        </div>
      </div>
    </section>

    <!-- ============================================ -->
    <!-- RESUMEN -->
    <!-- ============================================ -->
    <section class="section">
      <h2>üìã Resumen - Modelos de Datos</h2>

      <table class="property-table">
        <thead>
          <tr>
            <th>Archivo</th>
            <th>Interfaces</th>
            <th>Prop√≥sito</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>estudiante.model.ts</code></td>
            <td>Estudiante, NotaEstudiante, NotaEntrega</td>
            <td>Datos de estudiantes y calificaciones</td>
          </tr>
          <tr>
            <td><code>curso.model.ts</code></td>
            <td>Curso, CursoData</td>
            <td>Cursos acad√©micos</td>
          </tr>
          <tr>
            <td><code>evaluacion.model.ts</code></td>
            <td>RubricaDefinicion, CriterioRubrica, RubricaJSON</td>
            <td>R√∫bricas y criterios de evaluaci√≥n</td>
          </tr>
          <tr>
            <td><code>app-state.model.ts</code></td>
            <td>UIState, CourseState, AppBackup</td>
            <td>Estado persistente de la UI</td>
          </tr>
          <tr>
            <td><code>comentario-grupo.model.ts</code></td>
            <td>ComentarioGrupo, ComentariosGrupoData</td>
            <td>Feedback por grupo</td>
          </tr>
          <tr>
            <td><code>index.ts</code></td>
            <td>‚Äî</td>
            <td>Barrel export de todos los modelos</td>
          </tr>
        </tbody>
      </table>
    </section>

    <footer>
      <p><strong>POLIProject</strong> - Documentaci√≥n T√©cnica</p>
      <p>Parte 3.5 de 8 | Polit√©cnico Grancolombiano</p>
      <p style="margin-top: 10px;">
        <a href="DOCUMENTACION-TECNICA-PARTE-3-4.html">‚Üê Anterior: 3.4 Styles</a>
        &nbsp;|&nbsp;
        <a href="DOCUMENTACION-TECNICA-PARTE-3-6.html">Siguiente: 3.6 Services ‚Üí</a>
      </p>
    </footer>
  </div>
</body>
</html>
