<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>POLIProject - Parte 2.5: Configuraci√≥n Ra√≠z y PWA</title>
  <style>
    :root {
      --primary-color: #0f385a;
      --secondary-color: #667eea;
      --pwa-purple: #5a67d8;
      --test-green: #38a169;
      --bg-gradient: linear-gradient(135deg, #5a67d8 0%, #805ad5 100%);
      --code-bg: #1e1e1e;
      --code-text: #d4d4d4;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      min-height: 100vh;
      line-height: 1.6;
      color: #333;
    }

    .container { max-width: 1200px; margin: 0 auto; padding: 40px 20px; }

    header {
      background: var(--bg-gradient);
      color: white;
      padding: 40px;
      border-radius: 20px;
      margin-bottom: 40px;
      box-shadow: 0 10px 40px rgba(90, 103, 216, 0.3);
    }

    header h1 { font-size: 2.5rem; margin-bottom: 10px; }
    header .subtitle { font-size: 1.2rem; opacity: 0.9; }
    header .part-indicator {
      display: inline-block;
      background: rgba(255,255,255,0.2);
      padding: 8px 16px;
      border-radius: 20px;
      margin-top: 15px;
      font-weight: 600;
    }

    .nav-parts { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 30px; }
    .nav-parts a {
      padding: 10px 20px;
      background: white;
      color: var(--primary-color);
      text-decoration: none;
      border-radius: 10px;
      font-weight: 500;
      transition: all 0.3s ease;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .nav-parts a:hover, .nav-parts a.active { background: var(--pwa-purple); color: white; }

    .section {
      background: white;
      border-radius: 16px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
    }

    .section h2 {
      color: var(--pwa-purple);
      border-bottom: 3px solid var(--pwa-purple);
      padding-bottom: 10px;
      margin-bottom: 20px;
      font-size: 1.6rem;
    }

    .section h3 { color: var(--secondary-color); margin: 25px 0 15px 0; font-size: 1.3rem; }

    .file-card {
      background: white;
      border: 2px solid #e9ecef;
      border-radius: 12px;
      padding: 25px;
      margin: 20px 0;
      transition: all 0.3s ease;
    }

    .file-card:hover { border-color: var(--pwa-purple); box-shadow: 0 5px 20px rgba(90, 103, 216, 0.15); }
    .file-card h4 { color: var(--primary-color); margin-bottom: 15px; font-size: 1.2rem; }

    .file-icon {
      display: inline-block;
      background: var(--pwa-purple);
      color: white;
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 0.8rem;
      font-weight: bold;
      margin-right: 10px;
    }

    .file-icon.js { background: #f7df1e; color: #333; }
    .file-icon.json { background: #5a67d8; }
    .file-icon.pwa { background: #805ad5; }

    .code-block {
      background: var(--code-bg);
      border-radius: 10px;
      padding: 20px;
      overflow-x: auto;
      margin: 15px 0;
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 0.85rem;
      line-height: 1.8;
    }

    .code-block code { color: var(--code-text); }
    .code-block .keyword { color: #569cd6; }
    .code-block .string { color: #ce9178; }
    .code-block .comment { color: #6a9955; }
    .code-block .property { color: #9cdcfe; }

    .philosophy-box {
      background: linear-gradient(135deg, #e9d8fd 0%, #d6bcfa 100%);
      border-left: 5px solid var(--pwa-purple);
      padding: 25px;
      margin: 20px 0;
      border-radius: 0 12px 12px 0;
    }

    .philosophy-box h4 { color: #553c9a; margin-bottom: 12px; }

    .analogy-box {
      background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
      border-left: 5px solid #f39c12;
      padding: 20px;
      margin: 20px 0;
      border-radius: 0 12px 12px 0;
    }

    .analogy-box h4 { color: #d35400; margin-bottom: 10px; }

    .project-box {
      background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
      border-left: 5px solid #28a745;
      padding: 20px;
      margin: 20px 0;
      border-radius: 0 12px 12px 0;
    }

    .project-box h4 { color: #155724; margin-bottom: 10px; }

    .info-box {
      background: #e3f2fd;
      border: 1px solid #2196f3;
      border-radius: 10px;
      padding: 15px 20px;
      margin: 15px 0;
    }

    .success-box {
      background: #d4edda;
      border: 1px solid #28a745;
      border-radius: 10px;
      padding: 15px 20px;
      margin: 15px 0;
    }

    .pwa-features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }

    .pwa-feature {
      background: linear-gradient(135deg, #f8f9fa, #e9ecef);
      border-radius: 10px;
      padding: 20px;
      text-align: center;
      transition: all 0.3s ease;
    }

    .pwa-feature:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    }

    .pwa-feature .icon { font-size: 2rem; margin-bottom: 10px; }
    .pwa-feature h4 { color: var(--pwa-purple); font-size: 0.95rem; }
    .pwa-feature p { font-size: 0.85rem; color: #666; margin-top: 5px; }

    .completion-banner {
      background: linear-gradient(135deg, #28a745, #20c997);
      color: white;
      padding: 30px;
      border-radius: 16px;
      text-align: center;
      margin: 30px 0;
    }
    .completion-banner h3 { font-size: 1.5rem; margin-bottom: 10px; }

    .glossary-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }

    .glossary-table th, .glossary-table td {
      padding: 12px 15px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }

    .glossary-table th {
      background: var(--pwa-purple);
      color: white;
    }

    .glossary-table tr:nth-child(even) { background: #f8f9fa; }

    footer {
      text-align: center;
      padding: 30px;
      color: #666;
      border-top: 1px solid #ddd;
      margin-top: 40px;
    }

    footer a { color: var(--pwa-purple); }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>‚öôÔ∏è POLIProject</h1>
      <p class="subtitle">Documentaci√≥n T√©cnica del C√≥digo Fuente</p>
      <span class="part-indicator">üì° Parte 2.5: Configuraci√≥n Ra√≠z y PWA</span>
    </header>

    <nav class="nav-parts">
      <a href="DOCUMENTACION-TECNICA-PARTE-1-1.html">Parte 1</a>
      <a href="DOCUMENTACION-TECNICA-PARTE-2-1.html">2.1: Estructura</a>
      <a href="DOCUMENTACION-TECNICA-PARTE-2-2.html">2.2: docs/ y src/</a>
      <a href="DOCUMENTACION-TECNICA-PARTE-2-3.html">2.3: src/app/</a>
      <a href="DOCUMENTACION-TECNICA-PARTE-2-4.html">2.4: Archivos Base</a>
      <a href="DOCUMENTACION-TECNICA-PARTE-2-5.html" class="active">2.5: Config Ra√≠z</a>
      <a href="DOCUMENTACION-TECNICA-PARTE-3-1.html">Parte 3</a>
    </nav>

    <!-- ============================================ -->
    <!-- KARMA.CONF.JS -->
    <!-- ============================================ -->
    <section class="section">
      <h2>üß™ karma.conf.js - Test Runner</h2>

      <div class="file-card">
        <h4><span class="file-icon js">JS</span>karma.conf.js</h4>
        <p><strong>Prop√≥sito:</strong> Configuraci√≥n de <strong>Karma</strong>, el test runner utilizado para ejecutar pruebas unitarias de Angular.</p>
      </div>

      <div class="philosophy-box">
        <h4>üìê Filosof√≠a: "Test Early, Test Often"</h4>
        <p>Las pruebas unitarias son fundamentales en desarrollo profesional:</p>
        <ul>
          <li><strong>Detectan bugs temprano:</strong> Antes de que lleguen a producci√≥n</li>
          <li><strong>Documentan comportamiento:</strong> Los tests muestran c√≥mo debe funcionar el c√≥digo</li>
          <li><strong>Permiten refactoring seguro:</strong> Puedes cambiar c√≥digo con confianza</li>
          <li><strong>CI/CD:</strong> Se ejecutan autom√°ticamente en pipelines</li>
        </ul>
      </div>

      <h3>üìã Configuraciones Clave</h3>

      <div class="code-block">
        <code>
<span class="comment">// karma.conf.js</span>
module.exports = <span class="keyword">function</span> (config) {
  config.set({
    <span class="property">basePath</span>: <span class="string">''</span>,
    <span class="property">frameworks</span>: [<span class="string">'jasmine'</span>, <span class="string">'@angular-devkit/build-angular'</span>],
    <span class="property">plugins</span>: [
      require(<span class="string">'karma-jasmine'</span>),
      require(<span class="string">'karma-chrome-launcher'</span>),
      require(<span class="string">'karma-coverage'</span>)
    ],
    <span class="property">browsers</span>: [<span class="string">'Chrome'</span>],           <span class="comment">// Navegadores para tests</span>
    <span class="property">singleRun</span>: <span class="keyword">false</span>,                <span class="comment">// Watch mode</span>
    <span class="property">coverageReporter</span>: {             <span class="comment">// Reportes de cobertura</span>
      <span class="property">dir</span>: <span class="string">'./coverage'</span>,
      <span class="property">reporters</span>: [{ <span class="property">type</span>: <span class="string">'html'</span> }, { <span class="property">type</span>: <span class="string">'text-summary'</span> }]
    }
  });
};
        </code>
      </div>

      <div class="project-box">
        <h4>üìã En POLIProject:</h4>
        <p>Ejecutar tests:</p>
        <pre style="background: #1e1e1e; color: #d4d4d4; padding: 10px; border-radius: 6px; margin-top: 10px;"><code>npm test</code>   <span style="color: #6a9955;"># Ejecuta tests y observa cambios</span>
<code>ng test --code-coverage</code>   <span style="color: #6a9955;"># Con reporte de cobertura</span></pre>
      </div>

      <div class="analogy-box">
        <h4>üî¨ Analog√≠a: El Laboratorio de Calidad</h4>
        <p><code>karma.conf.js</code> configura el <strong>laboratorio de control de calidad</strong>:</p>
        <ul>
          <li><strong>Jasmine:</strong> Las herramientas de prueba (microscopio, tubos de ensayo)</li>
          <li><strong>Chrome:</strong> El ambiente donde se hacen las pruebas</li>
          <li><strong>Coverage:</strong> El informe de qu√© tan bien se revis√≥ el producto</li>
        </ul>
      </div>
    </section>

    <!-- ============================================ -->
    <!-- NGSW-CONFIG.JSON -->
    <!-- ============================================ -->
    <section class="section">
      <h2>üì° ngsw-config.json - Service Worker PWA</h2>

      <div class="file-card">
        <h4><span class="file-icon pwa">PWA</span>ngsw-config.json</h4>
        <p><strong>Prop√≥sito:</strong> Configuraci√≥n del <strong>Service Worker de Angular</strong> para funcionalidades PWA (Progressive Web App).</p>
      </div>

      <div class="philosophy-box">
        <h4>üìê Filosof√≠a: "Offline First"</h4>
        <p>Las PWAs priorizan la <strong>experiencia offline</strong>:</p>
        <ul>
          <li><strong>Cache primero:</strong> La app funciona incluso sin internet</li>
          <li><strong>Actualizaci√≥n en segundo plano:</strong> Nuevas versiones se descargan autom√°ticamente</li>
          <li><strong>Instalable:</strong> Se puede agregar a la pantalla de inicio</li>
          <li><strong>Nativo-like:</strong> Se siente como una app nativa</li>
        </ul>
      </div>

      <h3>üìã Funcionalidades Configuradas</h3>

      <div class="pwa-features">
        <div class="pwa-feature">
          <div class="icon">üì¶</div>
          <h4>Asset Groups</h4>
          <p>Qu√© archivos cachear (JS, CSS, im√°genes)</p>
        </div>
        <div class="pwa-feature">
          <div class="icon">üîÑ</div>
          <h4>Update Strategy</h4>
          <p>C√≥mo actualizar la app</p>
        </div>
        <div class="pwa-feature">
          <div class="icon">üì¥</div>
          <h4>Offline Mode</h4>
          <p>Funcionamiento sin conexi√≥n</p>
        </div>
        <div class="pwa-feature">
          <div class="icon">üíæ</div>
          <h4>Data Groups</h4>
          <p>Cache de datos din√°micos</p>
        </div>
      </div>

      <div class="code-block">
        <code>
<span class="comment">// ngsw-config.json</span>
{
  <span class="property">"$schema"</span>: <span class="string">"./node_modules/@angular/service-worker/config/schema.json"</span>,
  <span class="property">"index"</span>: <span class="string">"/index.html"</span>,
  <span class="property">"assetGroups"</span>: [
    {
      <span class="property">"name"</span>: <span class="string">"app"</span>,
      <span class="property">"installMode"</span>: <span class="string">"prefetch"</span>,     <span class="comment">// Descargar inmediatamente</span>
      <span class="property">"resources"</span>: {
        <span class="property">"files"</span>: [
          <span class="string">"/favicon.ico"</span>,
          <span class="string">"/index.html"</span>,
          <span class="string">"/*.css"</span>,
          <span class="string">"/*.js"</span>
        ]
      }
    },
    {
      <span class="property">"name"</span>: <span class="string">"assets"</span>,
      <span class="property">"installMode"</span>: <span class="string">"lazy"</span>,          <span class="comment">// Descargar cuando se necesite</span>
      <span class="property">"resources"</span>: {
        <span class="property">"files"</span>: [
          <span class="string">"/assets/**"</span>,
          <span class="string">"/*.(png|jpg|svg|ico)"</span>
        ]
      }
    }
  ]
}
        </code>
      </div>

      <div class="success-box">
        <strong>üì± Capacidades PWA de POLIProject:</strong>
        <ul style="margin-top: 10px; margin-left: 20px;">
          <li>‚úÖ Instalable en pantalla de inicio</li>
          <li>‚úÖ Funciona completamente offline</li>
          <li>‚úÖ Actualizaci√≥n autom√°tica en segundo plano</li>
          <li>‚úÖ Carga instant√°nea en visitas repetidas</li>
          <li>‚úÖ Menor consumo de datos m√≥viles</li>
        </ul>
      </div>

      <div class="info-box">
        <strong>üí° Importante:</strong> El Service Worker solo se activa en <strong>builds de producci√≥n</strong>:
        <pre style="margin-top: 10px;"><code>ng build --configuration=production</code></pre>
      </div>
    </section>

    <!-- ============================================ -->
    <!-- BANNER DE COMPLETACI√ìN -->
    <!-- ============================================ -->
    <div class="completion-banner">
      <h3>üéâ ¬°Parte 2 Completa!</h3>
      <p>Has completado la documentaci√≥n de Estructura de Carpetas y Archivos de POLIProject.</p>
      <p style="margin-top: 15px; font-size: 0.9rem;">
        2.1 Estructura &nbsp;|&nbsp;
        2.2 docs/ y src/ &nbsp;|&nbsp;
        2.3 src/app/ &nbsp;|&nbsp;
        2.4 Archivos Base &nbsp;|&nbsp;
        2.5 Config Ra√≠z
      </p>
    </div>

    <!-- ============================================ -->
    <!-- GLOSARIO -->
    <!-- ============================================ -->
    <section class="section">
      <h2>üìñ Glosario de T√©rminos de Estructura</h2>

      <h3>üìÅ Estructura de Carpetas</h3>

      <table class="glossary-table">
        <thead>
          <tr>
            <th>T√©rmino</th>
            <th>Definici√≥n</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>app/</strong></td>
            <td>Directorio principal con toda la l√≥gica de la aplicaci√≥n Angular: componentes, servicios, p√°ginas, modelos.</td>
          </tr>
          <tr>
            <td><strong>assets/</strong></td>
            <td>Recursos est√°ticos (im√°genes, iconos, fuentes). Se copian tal cual al build sin procesamiento.</td>
          </tr>
          <tr>
            <td><strong>components/</strong></td>
            <td>Componentes reutilizables que se usan en m√∫ltiples p√°ginas. Piezas de UI modulares.</td>
          </tr>
          <tr>
            <td><strong>core/</strong></td>
            <td>Servicios fundamentales, guards e interceptors. Se cargan una sola vez (singleton).</td>
          </tr>
          <tr>
            <td><strong>docs/</strong></td>
            <td>Documentaci√≥n t√©cnica y archivos de referencia. NO se incluye en el build.</td>
          </tr>
          <tr>
            <td><strong>environments/</strong></td>
            <td>Configuraciones por entorno (dev/prod). Angular las intercambia autom√°ticamente en build.</td>
          </tr>
          <tr>
            <td><strong>models/</strong></td>
            <td>Interfaces y tipos TypeScript que definen la estructura de datos del dominio.</td>
          </tr>
          <tr>
            <td><strong>pages/</strong></td>
            <td>P√°ginas/vistas de la aplicaci√≥n. Cada una representa una pantalla navegable completa.</td>
          </tr>
          <tr>
            <td><strong>services/</strong></td>
            <td>Servicios inyectables con l√≥gica de negocio y acceso a datos. Usan providedIn: 'root'.</td>
          </tr>
          <tr>
            <td><strong>theme/</strong></td>
            <td>Variables CSS de Ionic que controlan el tema visual global de la aplicaci√≥n.</td>
          </tr>
        </tbody>
      </table>

      <h3>üìÑ Archivos Clave</h3>

      <table class="glossary-table">
        <thead>
          <tr>
            <th>T√©rmino</th>
            <th>Definici√≥n</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>index.html</strong></td>
            <td>Punto de entrada HTML. Contiene &lt;app-root&gt; donde Angular inyecta la aplicaci√≥n.</td>
          </tr>
          <tr>
            <td><strong>main.ts</strong></td>
            <td>Bootstrap de Angular. Llama a bootstrapApplication() para arrancar la app standalone.</td>
          </tr>
          <tr>
            <td><strong>global.scss</strong></td>
            <td>Estilos CSS globales aplicados a toda la aplicaci√≥n. Incluye imports de Ionic Core.</td>
          </tr>
          <tr>
            <td><strong>polyfills.ts</strong></td>
            <td>Importa Zone.js (requerido por Angular) y polyfills para compatibilidad con browsers antiguos.</td>
          </tr>
          <tr>
            <td><strong>karma.conf.js</strong></td>
            <td>Configuraci√≥n de Karma (test runner). Define navegadores, reporters y configuraci√≥n de tests.</td>
          </tr>
          <tr>
            <td><strong>ngsw-config.json</strong></td>
            <td>Configuraci√≥n del Service Worker de Angular para funcionalidades PWA (offline, cache).</td>
          </tr>
        </tbody>
      </table>

      <h3>üîß Patrones y Convenciones</h3>

      <table class="glossary-table">
        <thead>
          <tr>
            <th>T√©rmino</th>
            <th>Definici√≥n</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>.page.ts</strong></td>
            <td>Convenci√≥n para p√°ginas en Ionic. Ejemplo: inicio.page.ts representa una vista navegable.</td>
          </tr>
          <tr>
            <td><strong>.service.ts</strong></td>
            <td>Convenci√≥n para servicios inyectables. Ejemplo: data.service.ts contiene l√≥gica de negocio.</td>
          </tr>
          <tr>
            <td><strong>.model.ts</strong></td>
            <td>Convenci√≥n para modelos TypeScript. Ejemplo: estudiante.model.ts define interfaces.</td>
          </tr>
          <tr>
            <td><strong>.spec.ts</strong></td>
            <td>Archivos de pruebas unitarias con Jasmine. Se ejecutan con npm test.</td>
          </tr>
          <tr>
            <td><strong>Barrel Export</strong></td>
            <td>index.ts que re-exporta m√≥dulos de una carpeta. Simplifica imports: import { X } from '@models';</td>
          </tr>
          <tr>
            <td><strong>PWA</strong></td>
            <td>Progressive Web App: aplicaci√≥n web instalable con capacidades offline y experiencia nativa.</td>
          </tr>
          <tr>
            <td><strong>Service Worker</strong></td>
            <td>Script en segundo plano que intercepta requests para funcionalidad offline y caching.</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- ============================================ -->
    <!-- RESUMEN PARTE 2 -->
    <!-- ============================================ -->
    <section class="section">
      <h2>üìù Resumen Final de Parte 2</h2>

      <table class="glossary-table">
        <thead>
          <tr>
            <th>Carpeta/Archivo</th>
            <th>Funci√≥n Principal</th>
            <th>Categor√≠a</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>docs/</code></td>
            <td>Documentaci√≥n, datos de prueba, r√∫bricas</td>
            <td>üìÑ Documentaci√≥n</td>
          </tr>
          <tr>
            <td><code>src/app/</code></td>
            <td>Aplicaci√≥n Angular completa</td>
            <td>üíª C√≥digo</td>
          </tr>
          <tr>
            <td><code>src/assets/</code></td>
            <td>Recursos est√°ticos</td>
            <td>üñºÔ∏è Assets</td>
          </tr>
          <tr>
            <td><code>src/environments/</code></td>
            <td>Config por entorno (dev/prod)</td>
            <td>‚öôÔ∏è Config</td>
          </tr>
          <tr>
            <td><code>src/theme/</code></td>
            <td>Variables de tema Ionic</td>
            <td>üé® Estilos</td>
          </tr>
          <tr>
            <td><code>main.ts</code></td>
            <td>Bootstrap de Angular</td>
            <td>‚ö° Core</td>
          </tr>
          <tr>
            <td><code>karma.conf.js</code></td>
            <td>Configuraci√≥n de tests</td>
            <td>üß™ Testing</td>
          </tr>
          <tr>
            <td><code>ngsw-config.json</code></td>
            <td>Service Worker PWA</td>
            <td>üì° PWA</td>
          </tr>
        </tbody>
      </table>

      <div class="project-box">
        <h4>‚úÖ Conclusi√≥n Parte 2</h4>
        <p>La estructura de carpetas de <strong>POLIProject</strong> sigue las mejores pr√°cticas de Ionic/Angular, organizando el c√≥digo en capas funcionales claramente separadas:</p>
        <ul style="margin-left: 20px; margin-top: 10px; line-height: 2;">
          <li><strong>Configuraci√≥n Base:</strong> Archivos en ra√≠z (.json, .js, .ts)</li>
          <li><strong>C√≥digo Fuente:</strong> src/ con subcarpetas especializadas</li>
          <li><strong>L√≥gica de Aplicaci√≥n:</strong> src/app/ con arquitectura por capas</li>
          <li><strong>Recursos Est√°ticos:</strong> assets/, docs/, theme/</li>
        </ul>
      </div>
    </section>

    <footer>
      <p><strong>POLIProject</strong> - Documentaci√≥n T√©cnica</p>
      <p>Parte 2.5 de 5 (Final de Parte 2) | Polit√©cnico Grancolombiano</p>
      <p style="margin-top: 10px;">
        <a href="DOCUMENTACION-TECNICA-PARTE-2-4.html">‚Üê Anterior: 2.4 Archivos Base</a>
        &nbsp;|&nbsp;
        <a href="DOCUMENTACION-TECNICA-PARTE-3-1.html">Siguiente: Parte 3 - C√≥digo Fuente ‚Üí</a>
      </p>
    </footer>
  </div>
</body>
</html>
