<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>POLIProject - Parte 2.4: Archivos Base de src/</title>
  <link rel="stylesheet" href="css/documentacion-tecnica.css">
</head>
<body>
  <div class="container">
    <header class="theme-blue">
      <h1>‚ö° POLIProject</h1>
      <p class="subtitle">Documentaci√≥n T√©cnica del C√≥digo Fuente</p>
      <span class="part-indicator">üìã Parte 2.4: Archivos Base de src/</span>
    </header>

    <nav class="nav-parts theme-blue">
      <a href="DOCUMENTACION-TECNICA-PARTE-1-1.html">Parte 1</a>
      <a href="DOCUMENTACION-TECNICA-PARTE-2-1.html">2.1: Estructura</a>
      <a href="DOCUMENTACION-TECNICA-PARTE-2-2.html">2.2: docs/ y src/</a>
      <a href="DOCUMENTACION-TECNICA-PARTE-2-3.html">2.3: src/app/</a>
      <a href="DOCUMENTACION-TECNICA-PARTE-2-4.html" class="active">2.4: Archivos Base</a>
      <a href="DOCUMENTACION-TECNICA-PARTE-2-5.html">2.5: Config Ra√≠z</a>
      <a href="DOCUMENTACION-TECNICA-PARTE-3-1.html">Parte 3</a>
    </nav>

    <!-- ============================================ -->
    <!-- SECUENCIA DE ARRANQUE -->
    <!-- ============================================ -->
    <section class="section theme-blue">
      <h2>üöÄ Secuencia de Arranque de la Aplicaci√≥n</h2>

      <p>Antes de analizar cada archivo, es importante entender <strong>en qu√© orden se ejecutan</strong> cuando la aplicaci√≥n arranca:</p>

      <div class="boot-sequence">
        <div class="boot-step">
          <div class="number">1</div>
          <div class="content">
            <span class="file">index.html</span> - El navegador carga este archivo primero
          </div>
        </div>
        <div class="boot-step">
          <div class="number">2</div>
          <div class="content">
            <span class="file">zone-flags.ts</span> - Configura optimizaciones de Zone.js
          </div>
        </div>
        <div class="boot-step">
          <div class="number">3</div>
          <div class="content">
            <span class="file">polyfills.ts</span> - Carga compatibilidad y Zone.js
          </div>
        </div>
        <div class="boot-step">
          <div class="number">4</div>
          <div class="content">
            <span class="file">main.ts</span> - Arranca Angular con <code>bootstrapApplication()</code>
          </div>
        </div>
        <div class="boot-step">
          <div class="number">5</div>
          <div class="content">
            Angular renderiza <span class="file">AppComponent</span> en <code>&lt;app-root&gt;</code>
          </div>
        </div>
        <div class="boot-step">
          <div class="number">6</div>
          <div class="content">
            <span class="file">global.scss</span> - Se aplican los estilos globales
          </div>
        </div>
      </div>

      <div class="analogy-box">
        <h4>üöó Analog√≠a: Encender un Auto</h4>
        <p>La secuencia de arranque es como <strong>encender un autom√≥vil</strong>:</p>
        <ul>
          <li><strong>index.html:</strong> Abrir la puerta del auto (acceso inicial)</li>
          <li><strong>zone-flags.ts:</strong> Ajustar los espejos antes de arrancar</li>
          <li><strong>polyfills.ts:</strong> Poner la llave en el contacto</li>
          <li><strong>main.ts:</strong> Girar la llave y arrancar el motor</li>
          <li><strong>AppComponent:</strong> El motor ya est√° funcionando</li>
          <li><strong>global.scss:</strong> Encender las luces y el aire acondicionado</li>
        </ul>
      </div>
    </section>

    <!-- ============================================ -->
    <!-- INDEX.HTML -->
    <!-- ============================================ -->
    <section class="section theme-blue">
      <h2>üìÑ index.html - Punto de Entrada HTML</h2>

      <div class="file-card">
        <h4><span class="file-icon html">HTML</span>index.html</h4>
        <p><strong>Prop√≥sito:</strong> Archivo HTML ra√≠z de la aplicaci√≥n. Es el <strong>primer archivo</strong> que carga el navegador.</p>
      </div>

      <div class="philosophy-box">
        <h4>üìê Filosof√≠a: "Single Page Application"</h4>
        <p>En una SPA como POLIProject, <code>index.html</code> es el <strong>√∫nico HTML</strong> que el servidor env√≠a:</p>
        <ul>
          <li>Angular toma el control y genera todo el contenido din√°micamente</li>
          <li>La navegaci√≥n es manejada por JavaScript (no recarga la p√°gina)</li>
          <li>El HTML base solo proporciona el "cascar√≥n" inicial</li>
        </ul>
      </div>

      <h3>üìã Contenido Clave</h3>

      <div class="content-list">
        <div class="content-item">
          <strong><code>&lt;app-root&gt;</code></strong><br>
          Selector donde Angular inyecta la app
        </div>
        <div class="content-item">
          <strong><code>&lt;meta viewport&gt;</code></strong><br>
          Responsividad en m√≥viles
        </div>
        <div class="content-item">
          <strong><code>&lt;link rel="manifest"&gt;</code></strong><br>
          Referencia PWA manifest
        </div>
        <div class="content-item">
          <strong><code>&lt;meta theme-color&gt;</code></strong><br>
          Color de barra de direcciones
        </div>
      </div>

      <div class="code-block">
        <code>
<span class="comment">&lt;!-- Contenido t√≠pico de index.html --&gt;</span>
&lt;!DOCTYPE html&gt;
&lt;html lang=<span class="string">"es"</span>&gt;
&lt;head&gt;
  &lt;meta charset=<span class="string">"UTF-8"</span>&gt;
  &lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;
  &lt;title&gt;POLIProject&lt;/title&gt;

  <span class="comment">&lt;!-- PWA --&gt;</span>
  &lt;link rel=<span class="string">"manifest"</span> href=<span class="string">"manifest.webmanifest"</span>&gt;
  &lt;meta name=<span class="string">"theme-color"</span> content=<span class="string">"#0f385a"</span>&gt;
&lt;/head&gt;
&lt;body&gt;
  <span class="comment">&lt;!-- Angular inyecta AppComponent aqu√≠ --&gt;</span>
  &lt;app-root&gt;&lt;/app-root&gt;
&lt;/body&gt;
&lt;/html&gt;
        </code>
      </div>

      <div class="info-box">
        <strong>üí° Nota:</strong> Angular CLI <strong>inyecta autom√°ticamente</strong> los scripts JavaScript compilados al final del <code>&lt;body&gt;</code> durante el build. No necesitas agregarlos manualmente.
      </div>
    </section>

    <!-- ============================================ -->
    <!-- MAIN.TS -->
    <!-- ============================================ -->
    <section class="section theme-blue">
      <h2>‚ö° main.ts - Bootstrap de Angular</h2>

      <div class="file-card">
        <h4><span class="file-icon ts">TS</span>main.ts</h4>
        <p><strong>Prop√≥sito:</strong> Punto de entrada TypeScript. Es el <strong>primer c√≥digo</strong> que se ejecuta al iniciar la app.</p>
      </div>

      <div class="philosophy-box">
        <h4>üìê Filosof√≠a: "Standalone Bootstrap"</h4>
        <p>Angular 20 con <strong>standalone components</strong> simplifica el arranque:</p>
        <ul>
          <li>No necesita NgModules (AppModule)</li>
          <li>Usa <code>bootstrapApplication()</code> directamente</li>
          <li>Providers se configuran inline</li>
          <li>M√°s ligero y f√°cil de entender</li>
        </ul>
      </div>

      <div class="code-block">
        <code>
<span class="comment">// main.ts - Arranque de POLIProject</span>
<span class="keyword">import</span> { <span class="function">bootstrapApplication</span> } <span class="keyword">from</span> <span class="string">'@angular/platform-browser'</span>;
<span class="keyword">import</span> { AppComponent } <span class="keyword">from</span> <span class="string">'./app/app.component'</span>;
<span class="keyword">import</span> { appConfig } <span class="keyword">from</span> <span class="string">'./app/app.config'</span>;

<span class="comment">// Arranca la aplicaci√≥n Angular</span>
<span class="function">bootstrapApplication</span>(AppComponent, appConfig)
  .<span class="function">catch</span>(err => console.<span class="function">error</span>(err));
        </code>
      </div>

      <div class="project-box">
        <h4>üìã En POLIProject, appConfig incluye:</h4>
        <ul class="list-spaced">
          <li><strong>Router:</strong> Configuraci√≥n de rutas con <code>provideRouter(routes)</code></li>
          <li><strong>IonicAngular:</strong> Providers de Ionic para Angular</li>
          <li><strong>HttpClient:</strong> Para llamadas HTTP si se necesitan</li>
          <li><strong>ServiceWorker:</strong> Para funcionalidad PWA</li>
        </ul>
      </div>
    </section>

    <!-- ============================================ -->
    <!-- GLOBAL.SCSS -->
    <!-- ============================================ -->
    <section class="section theme-blue">
      <h2>üé® global.scss - Estilos Globales</h2>

      <div class="file-card">
        <h4><span class="file-icon scss">SCSS</span>global.scss</h4>
        <p><strong>Prop√≥sito:</strong> Contiene estilos CSS globales que se aplican a <strong>toda la aplicaci√≥n</strong>, independientemente del componente.</p>
      </div>

      <h3>üìã Contenido T√≠pico</h3>

      <div class="content-list">
        <div class="content-item">
          <strong>Imports de Ionic</strong><br>
          Core CSS de Ionic Framework
        </div>
        <div class="content-item">
          <strong>Resets CSS</strong><br>
          Normalizaci√≥n de estilos base
        </div>
        <div class="content-item">
          <strong>Utility Classes</strong><br>
          .m-0, .p-10, .flex, etc.
        </div>
        <div class="content-item">
          <strong>Variables Custom</strong><br>
          CSS variables del proyecto
        </div>
      </div>

      <div class="code-block">
        <code>
<span class="comment">/* global.scss - Estilos globales de POLIProject */</span>

<span class="comment">/* Imports de Ionic Core */</span>
@<span class="keyword">import</span> <span class="string">"@ionic/angular/css/core.css"</span>;
@<span class="keyword">import</span> <span class="string">"@ionic/angular/css/normalize.css"</span>;
@<span class="keyword">import</span> <span class="string">"@ionic/angular/css/structure.css"</span>;
@<span class="keyword">import</span> <span class="string">"@ionic/angular/css/typography.css"</span>;

<span class="comment">/* Ionic utilities (opcional) */</span>
@<span class="keyword">import</span> <span class="string">"@ionic/angular/css/padding.css"</span>;
@<span class="keyword">import</span> <span class="string">"@ionic/angular/css/flex-utils.css"</span>;

<span class="comment">/* Estilos custom globales */</span>
* {
  box-sizing: border-box;
}

body {
  font-family: <span class="string">'Segoe UI'</span>, sans-serif;
}
        </code>
      </div>

      <div class="analogy-box">
        <h4>üè† Analog√≠a: Las Reglas de la Casa</h4>
        <p><code>global.scss</code> es como las <strong>reglas generales</strong> de una casa:</p>
        <ul>
          <li>Aplican a todos los que viven ah√≠ (todos los componentes)</li>
          <li>No necesitas repetirlas en cada habitaci√≥n</li>
          <li>"Quitarse los zapatos al entrar" = <code>* { box-sizing: border-box; }</code></li>
        </ul>
      </div>
    </section>

    <!-- ============================================ -->
    <!-- POLYFILLS.TS -->
    <!-- ============================================ -->
    <section class="section theme-blue">
      <h2>üîß polyfills.ts - Compatibilidad</h2>

      <div class="file-card">
        <h4><span class="file-icon ts">TS</span>polyfills.ts</h4>
        <p><strong>Prop√≥sito:</strong> Importa <strong>polyfills</strong> necesarios para compatibilidad con navegadores antiguos que no soportan caracter√≠sticas modernas de JavaScript.</p>
      </div>

      <div class="philosophy-box">
        <h4>üìê Filosof√≠a: "Write Once, Run Everywhere"</h4>
        <p>Los polyfills permiten usar <strong>c√≥digo moderno</strong> en navegadores antiguos:</p>
        <ul>
          <li>Proporcionan implementaciones de APIs que el navegador no tiene</li>
          <li>El c√≥digo se escribe una vez con sintaxis moderna</li>
          <li>Los polyfills "rellenan los huecos" en navegadores legacy</li>
        </ul>
      </div>

      <div class="code-block">
        <code>
<span class="comment">// polyfills.ts</span>

<span class="comment">// Zone.js es REQUERIDO por Angular para detecci√≥n de cambios</span>
<span class="comment">// Debe cargarse DESPU√âS de zone-flags.ts</span>
<span class="keyword">import</span> <span class="string">'zone.js'</span>;

<span class="comment">// Otros polyfills se agregan aqu√≠ si son necesarios</span>
<span class="comment">// Con ES2022 y navegadores modernos, generalmente no se necesitan m√°s</span>
        </code>
      </div>

      <div class="warning-box">
        <strong>‚ö†Ô∏è Zone.js es obligatorio:</strong><br>
        Angular usa Zone.js para su <strong>detecci√≥n de cambios</strong>. Sin √©l, los componentes no se actualizan cuando cambian los datos. Siempre debe importarse en polyfills.
      </div>
    </section>

    <!-- ============================================ -->
    <!-- ZONE-FLAGS.TS -->
    <!-- ============================================ -->
    <section class="section theme-blue">
      <h2>üö© zone-flags.ts - Optimizaci√≥n de Zone.js</h2>

      <div class="file-card">
        <h4><span class="file-icon config">CONFIG</span>zone-flags.ts</h4>
        <p><strong>Prop√≥sito:</strong> Configura <strong>flags de optimizaci√≥n</strong> para Zone.js, desactivando patching innecesario de APIs.</p>
      </div>

      <div class="code-block">
        <code>
<span class="comment">// zone-flags.ts - DEBE cargarse ANTES de zone.js</span>

<span class="comment">// Desactiva patching de eventos que no usamos</span>
(window <span class="keyword">as</span> any).__Zone_disable_requestAnimationFrame = <span class="keyword">true</span>;
(window <span class="keyword">as</span> any).__Zone_disable_on_property = <span class="keyword">true</span>;

<span class="comment">// Mejora rendimiento al reducir overhead de Zone.js</span>
        </code>
      </div>

      <div class="info-box">
        <strong>üí° ¬øQu√© es "patching"?</strong><br>
        Zone.js "parchea" (modifica) APIs del navegador para detectar cu√°ndo terminan operaciones as√≠ncronas. Desactivar el patching de APIs que no usamos mejora el rendimiento.
      </div>
    </section>

    <!-- ============================================ -->
    <!-- TEST.TS -->
    <!-- ============================================ -->
    <section class="section theme-blue">
      <h2>üß™ test.ts - Configuraci√≥n de Testing</h2>

      <div class="file-card">
        <h4><span class="file-icon ts">TS</span>test.ts</h4>
        <p><strong>Prop√≥sito:</strong> Inicializa el entorno de <strong>testing</strong> de Angular. Configura TestBed y carga archivos <code>*.spec.ts</code>.</p>
      </div>

      <div class="code-block">
        <code>
<span class="comment">// test.ts - Configuraci√≥n de tests unitarios</span>
<span class="keyword">import</span> { getTestBed } <span class="keyword">from</span> <span class="string">'@angular/core/testing'</span>;
<span class="keyword">import</span> {
  BrowserDynamicTestingModule,
  platformBrowserDynamicTesting
} <span class="keyword">from</span> <span class="string">'@angular/platform-browser-dynamic/testing'</span>;

<span class="comment">// Inicializa el entorno de testing de Angular</span>
getTestBed().<span class="function">initTestEnvironment</span>(
  BrowserDynamicTestingModule,
  platformBrowserDynamicTesting()
);
        </code>
      </div>

      <div class="project-box">
        <h4>üìã En POLIProject:</h4>
        <p>Este archivo se ejecuta autom√°ticamente al correr:</p>
        <pre class="command-block"><code>npm test</code> o <code>ng test</code></pre>
        <p class="mt-10">Karma busca todos los archivos <code>*.spec.ts</code> y los ejecuta.</p>
      </div>
    </section>

    <!-- ============================================ -->
    <!-- RESUMEN -->
    <!-- ============================================ -->
    <section class="section theme-blue">
      <h2>üìù Resumen de Archivos Base</h2>

      <table class="boot-table">
        <thead>
          <tr>
            <th>Archivo</th>
            <th>Tipo</th>
            <th>Funci√≥n</th>
            <th>Orden de Carga</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>index.html</code></td>
            <td><span class="file-icon html">HTML</span></td>
            <td>Punto de entrada del navegador</td>
            <td>1¬∫</td>
          </tr>
          <tr>
            <td><code>zone-flags.ts</code></td>
            <td><span class="file-icon config">CFG</span></td>
            <td>Optimizaci√≥n Zone.js</td>
            <td>2¬∫</td>
          </tr>
          <tr>
            <td><code>polyfills.ts</code></td>
            <td><span class="file-icon ts">TS</span></td>
            <td>Compatibilidad + Zone.js</td>
            <td>3¬∫</td>
          </tr>
          <tr>
            <td><code>main.ts</code></td>
            <td><span class="file-icon ts">TS</span></td>
            <td>Bootstrap Angular</td>
            <td>4¬∫</td>
          </tr>
          <tr>
            <td><code>global.scss</code></td>
            <td><span class="file-icon scss">SCSS</span></td>
            <td>Estilos globales</td>
            <td>Con build</td>
          </tr>
          <tr>
            <td><code>test.ts</code></td>
            <td><span class="file-icon ts">TS</span></td>
            <td>Config testing</td>
            <td>Solo tests</td>
          </tr>
        </tbody>
      </table>
    </section>

    <footer class="theme-blue">
      <p><strong>POLIProject</strong> - Documentaci√≥n T√©cnica</p>
      <p>Parte 2.4 de 5 | Polit√©cnico Grancolombiano</p>
      <p class="mt-10">
        <a href="DOCUMENTACION-TECNICA-PARTE-2-3.html">‚Üê Anterior: 2.3 src/app/</a>
        &nbsp;|&nbsp;
        <a href="DOCUMENTACION-TECNICA-PARTE-2-5.html">Siguiente: 2.5 Config Ra√≠z ‚Üí</a>
      </p>
    </footer>
  </div>
</body>
</html>
